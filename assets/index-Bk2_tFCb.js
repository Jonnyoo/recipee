(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Vf={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function C0(){if(gy)return Bl;gy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var py;function I0(){return py||(py=1,Vf.exports=C0()),Vf.exports}var j=I0(),Mf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function D0(){if(yy)return At;yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,et={};function J(C,Z,it){this.props=C,this.context=Z,this.refs=et,this.updater=it||H}J.prototype.isReactComponent={},J.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=J.prototype;function mt(C,Z,it){this.props=C,this.context=Z,this.refs=et,this.updater=it||H}var ot=mt.prototype=new Et;ot.constructor=mt,$(ot,J.prototype),ot.isPureReactComponent=!0;var Lt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Ut=Object.prototype.hasOwnProperty;function M(C,Z,it,W,ht,bt){return it=bt.ref,{$$typeof:s,type:C,key:Z,ref:it!==void 0?it:null,props:bt}}function S(C,Z){return M(C.type,Z,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return Z[it]})}var O=/\/+/g;function U(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):Z.toString(36)}function w(){}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,Z,it,W,ht){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case s:case e:yt=!0;break;case A:return yt=C._init,ae(yt(C._payload),Z,it,W,ht)}}if(yt)return ht=ht(C),yt=W===""?"."+U(C,0):W,Lt(ht)?(it="",yt!=null&&(it=yt.replace(O,"$&/")+"/"),ae(ht,Z,it,"",function(Pn){return Pn})):ht!=null&&(R(ht)&&(ht=S(ht,it+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(O,"$&/")+"/")+yt)),Z.push(ht)),1;yt=0;var Re=W===""?".":W+":";if(Lt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],bt=Re+U(W,Zt),yt+=ae(W,Z,it,bt,ht);else if(Zt=V(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,bt=Re+U(W,Zt++),yt+=ae(W,Z,it,bt,ht);else if(bt==="object"){if(typeof C.then=="function")return ae(Oe(C),Z,it,W,ht);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(C,Z,it){if(C==null)return C;var W=[],ht=0;return ae(C,W,"","",function(bt){return Z.call(it,bt,ht++)}),W}function nt(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return At.Children={map:G,forEach:function(C,Z,it){G(C,function(){Z.apply(this,arguments)},it)},count:function(C){var Z=0;return G(C,function(){Z++}),Z},toArray:function(C){return G(C,function(Z){return Z})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=J,At.Fragment=i,At.Profiler=o,At.PureComponent=mt,At.StrictMode=r,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Z,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),ht=C.key,bt=void 0;if(Z!=null)for(yt in Z.ref!==void 0&&(bt=void 0),Z.key!==void 0&&(ht=""+Z.key),Z)!Ut.call(Z,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Z.ref===void 0||(W[yt]=Z[yt]);var yt=arguments.length-2;if(yt===1)W.children=it;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];W.children=Re}return M(C.type,ht,void 0,void 0,bt,W)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,Z,it){var W,ht={},bt=null;if(Z!=null)for(W in Z.key!==void 0&&(bt=""+Z.key),Z)Ut.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ht[W]=Z[W]);var yt=arguments.length-2;if(yt===1)ht.children=it;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ht.children=Re}if(C&&C.defaultProps)for(W in yt=C.defaultProps,yt)ht[W]===void 0&&(ht[W]=yt[W]);return M(C,bt,void 0,void 0,null,ht)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=R,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:nt}},At.memo=function(C,Z){return{$$typeof:_,type:C,compare:Z===void 0?null:Z}},At.startTransition=function(C){var Z=_t.T,it={};_t.T=it;try{var W=C(),ht=_t.S;ht!==null&&ht(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ut)}catch(bt){ut(bt)}finally{_t.T=Z}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(C){return _t.H.use(C)},At.useActionState=function(C,Z,it){return _t.H.useActionState(C,Z,it)},At.useCallback=function(C,Z){return _t.H.useCallback(C,Z)},At.useContext=function(C){return _t.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Z){return _t.H.useDeferredValue(C,Z)},At.useEffect=function(C,Z,it){var W=_t.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,Z)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(C,Z,it){return _t.H.useImperativeHandle(C,Z,it)},At.useInsertionEffect=function(C,Z){return _t.H.useInsertionEffect(C,Z)},At.useLayoutEffect=function(C,Z){return _t.H.useLayoutEffect(C,Z)},At.useMemo=function(C,Z){return _t.H.useMemo(C,Z)},At.useOptimistic=function(C,Z){return _t.H.useOptimistic(C,Z)},At.useReducer=function(C,Z,it){return _t.H.useReducer(C,Z,it)},At.useRef=function(C){return _t.H.useRef(C)},At.useState=function(C){return _t.H.useState(C)},At.useSyncExternalStore=function(C,Z,it){return _t.H.useSyncExternalStore(C,Z,it)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.1",At}var _y;function _d(){return _y||(_y=1,Mf.exports=D0()),Mf.exports}var da=_d(),Of={exports:{}},ql={},xf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function N0(){return vy||(vy=1,(function(s){function e(G,nt){var ut=G.length;G.push(nt);t:for(;0<ut;){var zt=ut-1>>>1,C=G[zt];if(0<o(C,nt))G[zt]=nt,G[ut]=C,ut=zt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],ut=G.pop();if(ut!==nt){G[0]=ut;t:for(var zt=0,C=G.length,Z=C>>>1;zt<Z;){var it=2*(zt+1)-1,W=G[it],ht=it+1,bt=G[ht];if(0>o(W,ut))ht<C&&0>o(bt,W)?(G[zt]=bt,G[ht]=ut,zt=ht):(G[zt]=W,G[it]=ut,zt=it);else if(ht<C&&0>o(bt,ut))G[zt]=bt,G[ht]=ut,zt=ht;else break t}}return nt}function o(G,nt){var ut=G.sortIndex-nt.sortIndex;return ut!==0?ut:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,D=null,V=3,H=!1,$=!1,et=!1,J=!1,Et=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Lt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=G)r(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=i(_)}}function _t(G){if(et=!1,Lt(G),!$)if(i(v)!==null)$=!0,Ut||(Ut=!0,U());else{var nt=i(_);nt!==null&&ae(_t,nt.startTime-G)}}var Ut=!1,M=-1,S=5,R=-1;function N(){return J?!0:!(s.unstable_now()-R<S)}function O(){if(J=!1,Ut){var G=s.unstable_now();R=G;var nt=!0;try{t:{$=!1,et&&(et=!1,mt(M),M=-1),H=!0;var ut=V;try{e:{for(Lt(G),D=i(v);D!==null&&!(D.expirationTime>G&&N());){var zt=D.callback;if(typeof zt=="function"){D.callback=null,V=D.priorityLevel;var C=zt(D.expirationTime<=G);if(G=s.unstable_now(),typeof C=="function"){D.callback=C,Lt(G),nt=!0;break e}D===i(v)&&r(v),Lt(G)}else r(v);D=i(v)}if(D!==null)nt=!0;else{var Z=i(_);Z!==null&&ae(_t,Z.startTime-G),nt=!1}}break t}finally{D=null,V=ut,H=!1}nt=void 0}}finally{nt?U():Ut=!1}}}var U;if(typeof ot=="function")U=function(){ot(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Oe=w.port2;w.port1.onmessage=O,U=function(){Oe.postMessage(null)}}else U=function(){Et(O,0)};function ae(G,nt){M=Et(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ut=V;V=nt;try{return G()}finally{V=ut}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return nt()}finally{V=ut}},s.unstable_scheduleCallback=function(G,nt,ut){var zt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,G={id:A++,callback:nt,priorityLevel:G,startTime:ut,expirationTime:C,sortIndex:-1},ut>zt?(G.sortIndex=ut,e(_,G),i(v)===null&&G===i(_)&&(et?(mt(M),M=-1):et=!0,ae(_t,ut-zt))):(G.sortIndex=C,e(v,G),$||H||($=!0,Ut||(Ut=!0,U()))),G},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(G){var nt=V;return function(){var ut=V;V=nt;try{return G.apply(this,arguments)}finally{V=ut}}}})(Uf)),Uf}var Ey;function V0(){return Ey||(Ey=1,xf.exports=N0()),xf.exports}var Lf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function M0(){if(Ty)return Ge;Ty=1;var s=_d();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=g(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:V,fetchPriority:H}):A==="script"&&r.d.X(v,{crossOrigin:D,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=g(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ge.requestFormReset=function(v){r.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var Ay;function O0(){if(Ay)return Lf.exports;Ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=M0(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function x0(){if(Sy)return ql;Sy=1;var s=V0(),e=_d(),i=O0();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case J:return"Profiler";case et:return"StrictMode";case _t:return"Suspense";case Ut:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ot:return(t.displayName||"Context")+".Provider";case mt:return(t._context.displayName||"Context")+".Consumer";case Lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function Z(t){return{current:t}}function it(t){0>C||(t.current=zt[C],zt[C]=null,C--)}function W(t,n){C++,zt[C]=t.current,t.current=n}var ht=Z(null),bt=Z(null),yt=Z(null),Re=Z(null);function Zt(t,n){switch(W(yt,n),W(bt,t),W(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Hp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Hp(n),t=Gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ht),W(ht,t)}function Pn(){it(ht),it(bt),it(yt)}function zi(t){t.memoizedState!==null&&W(Re,t);var n=ht.current,a=Gp(n,t.type);n!==a&&(W(bt,t),W(ht,a))}function li(t){bt.current===t&&(it(ht),it(bt)),Re.current===t&&(it(Re),Ll._currentValue=ut)}var Da=Object.prototype.hasOwnProperty,Na=s.unstable_scheduleCallback,Va=s.unstable_cancelCallback,Or=s.unstable_shouldYield,mo=s.unstable_requestPaint,mn=s.unstable_now,Nc=s.unstable_getCurrentPriorityLevel,xr=s.unstable_ImmediatePriority,Ss=s.unstable_UserBlockingPriority,Ma=s.unstable_NormalPriority,Vc=s.unstable_LowPriority,bs=s.unstable_IdlePriority,Ur=s.log,go=s.unstable_setDisableYieldValue,se=null,qt=null;function an(t){if(typeof Ur=="function"&&go(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var qe=Math.clz32?Math.clz32:Oa,po=Math.log,Mc=Math.LN2;function Oa(t){return t>>>=0,t===0?32:31-(po(t)/Mc|0)|0}var xa=256,Ua=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rs(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):a||(a=E&~t,a!==0&&(c=Dn(a))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):a||(a=l&~t,a!==0&&(c=Dn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function La(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(){var t=xa;return xa<<=1,(xa&4194048)===0&&(xa=256),t}function zr(){var t=Ua;return Ua<<=1,(Ua&62914560)===0&&(Ua=4194304),t}function oi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jr(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var F=31-qe(a),Y=1<<F;E[F]=0,b[F]=-1;var k=z[F];if(k!==null)for(z[F]=null,F=0;F<k.length;F++){var B=k[F];B!==null&&(B.lane&=-536870913)}a&=~Y}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function kr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ws(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:uy(t.type))}function yo(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,fe="__reactProps$"+te,gn="__reactContainer$"+te,Br="__reactEvents$"+te,Oc="__reactListeners$"+te,Bi="__reactHandles$"+te,_o="__reactResources$"+te,Pa="__reactMarker$"+te;function qi(t){delete t[ve],delete t[fe],delete t[Br],delete t[Oc],delete t[Bi]}function ci(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gn]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Kp(t);t!==null;){if(a=t[ve])return a;t=Kp(t)}return n}t=a,a=t.parentNode}return null}function jn(t){if(t=t[ve]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ke(t){var n=t[_o];return n||(n=t[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Pa]=!0}var qr=new Set,Cs={};function Nn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Cs[t]=n,t=0;t<n.length;t++)qr.add(n[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},za={};function To(t){return Da.call(za,t)?!0:Da.call(Eo,t)?!1:vo.test(t)?za[t]=!0:(Eo[t]=!0,!1)}function Hi(t,n,a){if(To(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Bn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function xe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ja,Ao;function fi(t){if(ja===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ja=n&&n[1]||"",Ao=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+t+Ao}var Is=!1;function Ds(t,n){if(!t||Is)return"";Is=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var k=B}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(B){k=B}t.call(Y.prototype)}}else{try{throw Error()}catch(B){k=B}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var F=`
`+b[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Is=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function Hr(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return fi("Activity");default:return""}}function Ns(t){try{var n="";do n+=Hr(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xc(t){var n=Gr(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vs(t){t._valueTracker||(t._valueTracker=xc(t))}function Fr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Gr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Uc=/[\n"\\]/g;function de(t){return t.replace(Uc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,y,Xe(n)):a!=null?Gi(t,y,Xe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Ba(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Gi(t,n,a){n==="number"&&ka(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function di(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,a){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xe(a):""}function qa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ae(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ha.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Qr(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&So(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&So(t,f,n[f])}function Yr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return Pc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Kr(t){var n=jn(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(r(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Fr(l)}break t;case"textarea":Ft(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&di(t,!!a.multiple,n,!1)}}}var qn=!1;function bo(t,n,a){if(qn)return t(n,a);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(gi!==null||pi!==null)&&(yu(),gi&&(n=gi,t=pi,pi=gi=null,Kr(n),t)))for(n=0;n<t.length;n++)Kr(t[n])}}function Ga(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Vn)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{_n=!1}var Hn=null,Fi=null,yi=null;function Xr(){if(yi)return yi;var t,n=Fi,a=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Zr(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Zr,this.isPropagationStopped=Zr,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=we(kt),Qa=A({},kt,{view:0,detail:0}),Ro=we(Qa),xs,Us,Qn,Ya=A({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(xs=t.screenX-Qn.screenX,Us=t.screenY-Qn.screenY):Us=xs=0,Qn=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),vn=we(Ya),wo=A({},Ya,{dataTransfer:0}),zc=we(wo),Ka=A({},Qa,{relatedTarget:0}),Ls=we(Ka),$r=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ps=we($r),Co=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zs=we(Co),jc=A({},kt,{data:0}),Jr=we(jc),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Do={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Do[t])?!!n[t]:!1}function Za(){return Wr}var No=A({},Qa,{key:function(t){if(t.key){var n=Xa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),js=we(No),Vo=A({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=we(Vo),_i=A({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),Mo=we(_i),Oo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xo=we(Oo),Uo=A({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ks=we(Uo),Ze=A({},kt,{newState:0,oldState:0}),Lo=we(Ze),Po=[9,13,27,32],Yn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Yn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Po.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function Ee(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Vt(t,n){if(Nt)return t==="compositionend"||!Yn&&q(t,n)?(t=Xr(),yi=Fi=Hn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function vi(t,n,a,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=Su(n,"onChange"),0<n.length&&(a=new Os("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,Kn=null;function el(t){zp(t,0)}function zo(t){var n=kn(t);if(Fr(n))return t}function sm(t,n){if(t==="change")return n}var rm=!1;if(Vn){var kc;if(Vn){var Bc="oninput"in document;if(!Bc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Bc=typeof lm.oninput=="function"}kc=Bc}else kc=!1;rm=kc&&(!document.documentMode||9<document.documentMode)}function om(){Ue&&(Ue.detachEvent("onpropertychange",um),Kn=Ue=null)}function um(t){if(t.propertyName==="value"&&zo(Kn)){var n=[];vi(n,Kn,t,yn(t)),bo(el,n)}}function iT(t,n,a){t==="focusin"?(om(),Ue=n,Kn=a,Ue.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function aT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zo(Kn)}function sT(t,n){if(t==="click")return zo(n)}function rT(t,n){if(t==="input"||t==="change")return zo(n)}function lT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:lT;function nl(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Da.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var a=cm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cm(a)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ka(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ka(t.document)}return n}function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oT=Vn&&"documentMode"in document&&11>=document.documentMode,Bs=null,Hc=null,il=null,Gc=!1;function mm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gc||Bs==null||Bs!==ka(l)||(l=Bs,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Su(Hc,"onSelect"),0<l.length&&(n=new Os("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Bs)))}function $a(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var qs={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Fc={},gm={};Vn&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Ja(t){if(Fc[t])return Fc[t];if(!qs[t])return t;var n=qs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in gm)return Fc[t]=n[a];return t}var pm=Ja("animationend"),ym=Ja("animationiteration"),_m=Ja("animationstart"),uT=Ja("transitionrun"),cT=Ja("transitionstart"),hT=Ja("transitioncancel"),vm=Ja("transitionend"),Em=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Mn(t,n){Em.set(t,n),Nn(n,[t])}var Tm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Tm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ns(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:Ns(n)}}var Tn=[],Hs=0,Yc=0;function jo(){for(var t=Hs,n=Yc=Hs=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Am(a,c,f)}}function ko(t,n,a,l){Tn[Hs++]=t,Tn[Hs++]=n,Tn[Hs++]=a,Tn[Hs++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,a,l){return ko(t,n,a,l),Bo(t)}function Gs(t,n){return ko(t,null,null,n),Bo(t)}function Am(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bo(t){if(50<Il)throw Il=0,tf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fs={};function fT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,a,l){return new fT(t,n,a,l)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var a=t.alternate;return a===null?(a=ln(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Xc(t)&&(y=1);else if(typeof t=="string")y=m0(t,a,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=ln(31,a,n,c),t.elementType=R,t.lanes=f,t;case $:return Wa(a.children,c,f,n);case et:y=8,c|=24;break;case J:return t=ln(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case _t:return t=ln(13,a,n,c),t.elementType=_t,t.lanes=f,t;case Ut:return t=ln(19,a,n,c),t.elementType=Ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case ot:y=10;break t;case mt:y=9;break t;case Lt:y=11;break t;case M:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Wa(t,n,a,l){return t=ln(7,t,l,n),t.lanes=a,t}function Zc(t,n,a){return t=ln(6,t,null,n),t.lanes=a,t}function $c(t,n,a){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qs=[],Ys=0,Ho=null,Go=0,An=[],Sn=0,ts=null,Ti=1,Ai="";function es(t,n){Qs[Ys++]=Go,Qs[Ys++]=Ho,Ho=t,Go=n}function bm(t,n,a){An[Sn++]=Ti,An[Sn++]=Ai,An[Sn++]=ts,ts=t;var l=Ti;t=Ai;var c=32-qe(l)-1;l&=~(1<<c),a+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-qe(n)+c|a<<c|l,Ai=f+t}else Ti=1<<f|a<<c|l,Ai=t}function Jc(t){t.return!==null&&(es(t,1),bm(t,1,0))}function Wc(t){for(;t===Ho;)Ho=Qs[--Ys],Qs[Ys]=null,Go=Qs[--Ys],Qs[Ys]=null;for(;t===ts;)ts=An[--Sn],An[Sn]=null,Ai=An[--Sn],An[Sn]=null,Ti=An[--Sn],An[Sn]=null}var $e=null,re=null,jt=!1,ns=null,Xn=!1,th=Error(r(519));function is(t){var n=Error(r(418,""));throw rl(En(n,t)),th}function Rm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[fe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ct(Nl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ba(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),qa(n,l.value,l.defaultValue,l.children),Vs(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||qp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=bu),n=!0):n=!1,n||is(t)}function wm(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:$e=$e.return}}function al(t){if(t!==$e)return!1;if(!jt)return wm(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&re&&is(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=xn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,la(t.type)?(t=Tf,Tf=null,re=t):re=n):re=$e?xn(t.stateNode.nextSibling):null;return!0}function sl(){re=$e=null,jt=!1}function Cm(){var t=ns;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ns=null),t}function rl(t){ns===null?ns=[t]:ns.push(t)}var eh=Z(null),as=null,Si=null;function Qi(t,n,a){W(eh,n._currentValue),n._currentValue=a}function bi(t){t._currentValue=eh.current,it(eh)}function nh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ih(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),nh(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),nh(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ll(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&ih(n,t,a,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Im(as,t)}function Qo(t,n){return as===null&&ss(t),Im(t,n)}function Im(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Si===null){if(t===null)throw Error(r(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return a}var dT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mT=s.unstable_scheduleCallback,gT=s.unstable_NormalPriority,Ae={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new dT,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&mT(gT,function(){t.controller.abort()})}var ul=null,sh=0,Ks=0,Xs=null;function pT(t,n){if(ul===null){var a=ul=[];sh=0,Ks=of(),Xs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sh++,n.then(Dm,Dm),n}function Dm(){if(--sh===0&&ul!==null){Xs!==null&&(Xs.status="fulfilled");var t=ul;ul=null,Ks=0,Xs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Nm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pT(t,n),Nm!==null&&Nm(t,n)};var rs=Z(null);function rh(){var t=rs.current;return t!==null?t:$t.pooledCache}function Yo(t,n){n===null?W(rs,rs.current):W(rs,n.pool)}function Vm(){var t=rh();return t===null?null:{parent:Ae._currentValue,pool:t}}var cl=Error(r(460)),Mm=Error(r(474)),Ko=Error(r(542)),lh={then:function(){}};function Om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xo(){}function xm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Xo,Xo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t;default:if(typeof n.status=="string")n.then(Xo,Xo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t}throw hl=n,cl}}var hl=null;function Um(){if(hl===null)throw Error(r(459));var t=hl;return hl=null,t}function Lm(t){if(t===cl||t===Ko)throw Error(r(483))}var Yi=!1;function oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(t),Am(t,null,a),n}return ko(t,l,n,a),Bo(t)}function fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,kr(t,a)}}function ch(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var hh=!1;function dl(){if(hh){var t=Xs;if(t!==null)throw t}}function ml(t,n,a,l){hh=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?f=z:y.next=z,y=b;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,F=z=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Mt&k)===k:(l&k)===k){k!==0&&k===Ks&&(hh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,ft=E;k=n;var Kt=a;switch(ft.tag){case 1:if(pt=ft.payload,typeof pt=="function"){Y=pt.call(Kt,Y,k);break t}Y=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ft.payload,k=typeof pt=="function"?pt.call(Kt,Y,k):pt,k==null)break t;Y=A({},Y,k);break t;case 2:Yi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=B,b=Y):F=F.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);F===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ia|=y,t.lanes=y,t.memoizedState=Y}}function Pm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pm(a[t],n)}var Zs=Z(null),Zo=Z(0);function jm(t,n){t=Vi,W(Zo,t),W(Zs,n),Vi=t|n.baseLanes}function fh(){W(Zo,Vi),W(Zs,Zs.current)}function dh(){Vi=Zo.current,it(Zs),it(Zo)}var Zi=0,St=null,Qt=null,me=null,$o=!1,$s=!1,ls=!1,Jo=0,gl=0,Js=null,_T=0;function ue(){throw Error(r(321))}function mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function gh(t,n,a,l,c,f){return Zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Ag:Sg,ls=!1,f=a(l,c),ls=!1,$s&&(f=Bm(n,a,l,c)),km(t),f}function km(t){G.H=au;var n=Qt!==null&&Qt.next!==null;if(Zi=0,me=Qt=St=null,$o=!1,gl=0,Js=null,n)throw Error(r(300));t===null||Ie||(t=t.dependencies,t!==null&&Fo(t)&&(Ie=!0))}function Bm(t,n,a,l){St=t;var c=0;do{if($s&&(Js=null),gl=0,$s=!1,25<=c)throw Error(r(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=RT,f=n(a,l)}while($s);return f}function vT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?pl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(St.flags|=1024),n}function ph(){var t=Jo!==0;return Jo=0,t}function yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _h(t){if($o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$o=!1}Zi=0,me=Qt=St=null,$s=!1,gl=Jo=0,Js=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var n=gl;return gl+=1,Js===null&&(Js=[]),t=xm(Js,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ag:Sg),t}function Wo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ot)return He(t)}throw Error(r(438,String(t)))}function Eh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=vh(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=N;return n.index++,a}function Ri(t,n){return typeof n=="function"?n(t):n}function tu(t){var n=ge();return Th(n,Qt,t)}function Th(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Mt&Y)===Y:(Zi&Y)===Y){var k=z.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ks&&(F=!0);else if((Zi&k)===k){z=z.next,k===Ks&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,St.lanes|=k,ia|=k;Y=z.action,ls&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else k={lane:Y,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,St.lanes|=Y,ia|=Y;z=z.next}while(z!==null&&z!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(Ie=!0,F&&(a=Xs,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ah(t){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function qm(t,n,a){var l=St,c=ge(),f=jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!rn((Qt||c).memoizedState,a);y&&(c.memoizedState=a,Ie=!0),c=c.queue;var E=Fm.bind(null,l,c,t);if(yl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Ws(9,eu(),Gm.bind(null,l,c,a,n),null),$t===null)throw Error(r(349));f||(Zi&124)!==0||Hm(l,n,a)}return a}function Hm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=vh(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Gm(t,n,a,l){n.value=a,n.getSnapshot=l,Qm(n)&&Ym(t)}function Fm(t,n,a){return a(function(){Qm(n)&&Ym(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function Ym(t){var n=Gs(t,2);n!==null&&fn(n,t,2)}function Sh(t){var n=Je();if(typeof t=="function"){var a=t;if(t=a(),ls){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function Km(t,n,a,l){return t.baseState=a,Th(t,Qt,typeof l=="function"?l:Ri)}function ET(t,n,a,l,c){if(iu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Xm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Xm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=a(c,l),b=G.S;b!==null&&b(y,E),Zm(t,n,E)}catch(z){bh(t,n,z)}finally{G.T=f}}else try{f=a(c,l),Zm(t,n,f)}catch(z){bh(t,n,z)}}function Zm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$m(t,n,l)},function(l){return bh(t,n,l)}):$m(t,n,a)}function $m(t,n,a){n.status="fulfilled",n.value=a,Jm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Xm(t,a)))}function bh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Jm(n),n=n.next;while(n!==l)}t.action=null}function Jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wm(t,n){return n}function tg(t,n){if(jt){var a=$t.formState;if(a!==null){t:{var l=St;if(jt){if(re){e:{for(var c=re,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=xn(c.nextSibling),l=c.data==="F!";break t}}is(l)}l=!1}l&&(n=a[0])}}return a=Je(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:n},a.queue=l,a=vg.bind(null,St,l),l.dispatch=a,l=Sh(!1),f=Dh.bind(null,St,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=ET.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function eg(t){var n=ge();return ng(n,Qt,t)}function ng(t,n,a){if(n=Th(t,n,Wm)[0],t=tu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=pl(n)}catch(y){throw y===cl?Ko:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Ws(9,eu(),TT.bind(null,c,a),null)),[l,f,t]}function TT(t,n){t.action=n}function ig(t){var n=ge(),a=Qt;if(a!==null)return ng(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ws(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=vh(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function eu(){return{destroy:void 0,resource:void 0}}function ag(){return ge().memoizedState}function nu(t,n,a,l){var c=Je();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Ws(1|n,eu(),a,l)}function yl(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&mh(l,Qt.memoizedState.deps)?c.memoizedState=Ws(n,f,a,l):(St.flags|=t,c.memoizedState=Ws(1|n,f,a,l))}function sg(t,n){nu(8390656,8,t,n)}function rg(t,n){yl(2048,8,t,n)}function lg(t,n){return yl(4,2,t,n)}function og(t,n){return yl(4,4,t,n)}function ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,a){a=a!=null?a.concat([t]):null,yl(4,4,ug.bind(null,n,t),a)}function Rh(){}function hg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function fg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),ls){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l}function wh(t,n,a){return a===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=gp(),St.lanes|=t,ia|=t,a)}function dg(t,n,a,l){return rn(a,n)?a:Zs.current!==null?(t=wh(t,a,l),rn(t,n)||(Ie=!0),t):(Zi&42)===0?(Ie=!0,t.memoizedState=a):(t=gp(),St.lanes|=t,ia|=t,n)}function mg(t,n,a,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,Dh(t,!1,n,a);try{var b=c(),z=G.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var F=yT(b,l);_l(t,n,F,hn(t))}else _l(t,n,l,hn(t))}catch(Y){_l(t,n,{then:function(){},status:"rejected",reason:Y},hn())}finally{nt.p=f,G.T=y}}function AT(){}function Ch(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=gg(t).queue;mg(t,c,n,ut,a===null?AT:function(){return pg(t),a(l)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=gg(t).next.queue;_l(t,n,{},hn())}function Ih(){return He(Ll)}function yg(){return ge().memoizedState}function _g(){return ge().memoizedState}function ST(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=Ki(a);var l=Xi(n,t,a);l!==null&&(fn(l,n,a),fl(l,n,a)),n={cache:ah()},t.payload=n;return}n=n.return}}function bT(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},iu(t)?Eg(n,a):(a=Kc(t,n,a,l),a!==null&&(fn(a,t,l),Tg(a,n,l)))}function vg(t,n,a){var l=hn();_l(t,n,a,l)}function _l(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(iu(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return ko(t,n,c,0),$t===null&&jo(),!1}catch{}finally{}if(a=Kc(t,n,c,l),a!==null)return fn(a,t,l),Tg(a,n,l),!0}return!1}function Dh(t,n,a,l){if(l={lane:2,revertLane:of(),action:l,hasEagerState:!1,eagerState:null,next:null},iu(t)){if(n)throw Error(r(479))}else n=Kc(t,a,l,2),n!==null&&fn(n,t,2)}function iu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Eg(t,n){$s=$o=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Tg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,kr(t,a)}}var au={readContext:He,use:Wo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Ag={readContext:He,use:Wo,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:sg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,nu(4194308,4,ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return nu(4194308,4,t,n)},useInsertionEffect:function(t,n){nu(4,2,t,n)},useMemo:function(t,n){var a=Je();n=n===void 0?null:n;var l=t();if(ls){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Je();if(a!==void 0){var c=a(n);if(ls){an(!0);try{a(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=bT.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Sh(t);var n=t.queue,a=vg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(t,n){var a=Je();return wh(a,t,n)},useTransition:function(){var t=Sh(!1);return t=mg.bind(null,St,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=Je();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(Mt&124)!==0||Hm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,sg(Fm.bind(null,l,f,t),[t]),l.flags|=2048,Ws(9,eu(),Gm.bind(null,l,f,a,n),null),a},useId:function(){var t=Je(),n=$t.identifierPrefix;if(jt){var a=Ai,l=Ti;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Jo++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=_T++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Dh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:Eh,useCacheRefresh:function(){return Je().memoizedState=ST.bind(null,St)}},Sg={readContext:He,use:Wo,useCallback:hg,useContext:He,useEffect:rg,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:tu,useRef:ag,useState:function(){return tu(Ri)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ge();return dg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=tu(Ri)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:qm,useId:yg,useHostTransitionStatus:Ih,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var a=ge();return Km(a,Qt,t,n)},useMemoCache:Eh,useCacheRefresh:_g},RT={readContext:He,use:Wo,useCallback:hg,useContext:He,useEffect:rg,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:Ah,useRef:ag,useState:function(){return Ah(Ri)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ge();return Qt===null?wh(a,t,n):dg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Ah(Ri)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:qm,useId:yg,useHostTransitionStatus:Ih,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var a=ge();return Qt!==null?Km(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:_g},tr=null,vl=0;function su(t){var n=vl;return vl+=1,tr===null&&(tr=[]),xm(tr,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function bg(t){var n=t._init;return n(t._payload)}function Rg(t){function n(x,I){if(t){var P=x.deletions;P===null?(x.deletions=[I],x.flags|=16):P.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=Ei(x,I),x.index=0,x.sibling=null,x}function f(x,I,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<I?(x.flags|=67108866,I):P):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,P,Q){return I===null||I.tag!==6?(I=Zc(P,x.mode,Q),I.return=x,I):(I=c(I,P),I.return=x,I)}function b(x,I,P,Q){var rt=P.type;return rt===$?F(x,I,P.props.children,Q,P.key):I!==null&&(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&bg(rt)===I.type)?(I=c(I,P.props),El(I,P),I.return=x,I):(I=qo(P.type,P.key,P.props,null,x.mode,Q),El(I,P),I.return=x,I)}function z(x,I,P,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=$c(P,x.mode,Q),I.return=x,I):(I=c(I,P.children||[]),I.return=x,I)}function F(x,I,P,Q,rt){return I===null||I.tag!==7?(I=Wa(P,x.mode,Q,rt),I.return=x,I):(I=c(I,P),I.return=x,I)}function Y(x,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Zc(""+I,x.mode,P),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case V:return P=qo(I.type,I.key,I.props,null,x.mode,P),El(P,I),P.return=x,P;case H:return I=$c(I,x.mode,P),I.return=x,I;case S:var Q=I._init;return I=Q(I._payload),Y(x,I,P)}if(ae(I)||U(I))return I=Wa(I,x.mode,P,null),I.return=x,I;if(typeof I.then=="function")return Y(x,su(I),P);if(I.$$typeof===ot)return Y(x,Qo(x,I),P);ru(x,I)}return null}function k(x,I,P,Q){var rt=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return rt!==null?null:E(x,I,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return P.key===rt?b(x,I,P,Q):null;case H:return P.key===rt?z(x,I,P,Q):null;case S:return rt=P._init,P=rt(P._payload),k(x,I,P,Q)}if(ae(P)||U(P))return rt!==null?null:F(x,I,P,Q,null);if(typeof P.then=="function")return k(x,I,su(P),Q);if(P.$$typeof===ot)return k(x,I,Qo(x,P),Q);ru(x,P)}return null}function B(x,I,P,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(P)||null,E(I,x,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return x=x.get(Q.key===null?P:Q.key)||null,b(I,x,Q,rt);case H:return x=x.get(Q.key===null?P:Q.key)||null,z(I,x,Q,rt);case S:var Rt=Q._init;return Q=Rt(Q._payload),B(x,I,P,Q,rt)}if(ae(Q)||U(Q))return x=x.get(P)||null,F(I,x,Q,rt,null);if(typeof Q.then=="function")return B(x,I,P,su(Q),rt);if(Q.$$typeof===ot)return B(x,I,P,Qo(I,Q),rt);ru(I,Q)}return null}function pt(x,I,P,Q){for(var rt=null,Rt=null,lt=I,dt=I=0,Ne=null;lt!==null&&dt<P.length;dt++){lt.index>dt?(Ne=lt,lt=null):Ne=lt.sibling;var Pt=k(x,lt,P[dt],Q);if(Pt===null){lt===null&&(lt=Ne);break}t&&lt&&Pt.alternate===null&&n(x,lt),I=f(Pt,I,dt),Rt===null?rt=Pt:Rt.sibling=Pt,Rt=Pt,lt=Ne}if(dt===P.length)return a(x,lt),jt&&es(x,dt),rt;if(lt===null){for(;dt<P.length;dt++)lt=Y(x,P[dt],Q),lt!==null&&(I=f(lt,I,dt),Rt===null?rt=lt:Rt.sibling=lt,Rt=lt);return jt&&es(x,dt),rt}for(lt=l(lt);dt<P.length;dt++)Ne=B(lt,x,dt,P[dt],Q),Ne!==null&&(t&&Ne.alternate!==null&&lt.delete(Ne.key===null?dt:Ne.key),I=f(Ne,I,dt),Rt===null?rt=Ne:Rt.sibling=Ne,Rt=Ne);return t&&lt.forEach(function(fa){return n(x,fa)}),jt&&es(x,dt),rt}function ft(x,I,P,Q){if(P==null)throw Error(r(151));for(var rt=null,Rt=null,lt=I,dt=I=0,Ne=null,Pt=P.next();lt!==null&&!Pt.done;dt++,Pt=P.next()){lt.index>dt?(Ne=lt,lt=null):Ne=lt.sibling;var fa=k(x,lt,Pt.value,Q);if(fa===null){lt===null&&(lt=Ne);break}t&&lt&&fa.alternate===null&&n(x,lt),I=f(fa,I,dt),Rt===null?rt=fa:Rt.sibling=fa,Rt=fa,lt=Ne}if(Pt.done)return a(x,lt),jt&&es(x,dt),rt;if(lt===null){for(;!Pt.done;dt++,Pt=P.next())Pt=Y(x,Pt.value,Q),Pt!==null&&(I=f(Pt,I,dt),Rt===null?rt=Pt:Rt.sibling=Pt,Rt=Pt);return jt&&es(x,dt),rt}for(lt=l(lt);!Pt.done;dt++,Pt=P.next())Pt=B(lt,x,dt,Pt.value,Q),Pt!==null&&(t&&Pt.alternate!==null&&lt.delete(Pt.key===null?dt:Pt.key),I=f(Pt,I,dt),Rt===null?rt=Pt:Rt.sibling=Pt,Rt=Pt);return t&&lt.forEach(function(w0){return n(x,w0)}),jt&&es(x,dt),rt}function Kt(x,I,P,Q){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case V:t:{for(var rt=P.key;I!==null;){if(I.key===rt){if(rt=P.type,rt===$){if(I.tag===7){a(x,I.sibling),Q=c(I,P.props.children),Q.return=x,x=Q;break t}}else if(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&bg(rt)===I.type){a(x,I.sibling),Q=c(I,P.props),El(Q,P),Q.return=x,x=Q;break t}a(x,I);break}else n(x,I);I=I.sibling}P.type===$?(Q=Wa(P.props.children,x.mode,Q,P.key),Q.return=x,x=Q):(Q=qo(P.type,P.key,P.props,null,x.mode,Q),El(Q,P),Q.return=x,x=Q)}return y(x);case H:t:{for(rt=P.key;I!==null;){if(I.key===rt)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){a(x,I.sibling),Q=c(I,P.children||[]),Q.return=x,x=Q;break t}else{a(x,I);break}else n(x,I);I=I.sibling}Q=$c(P,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return rt=P._init,P=rt(P._payload),Kt(x,I,P,Q)}if(ae(P))return pt(x,I,P,Q);if(U(P)){if(rt=U(P),typeof rt!="function")throw Error(r(150));return P=rt.call(P),ft(x,I,P,Q)}if(typeof P.then=="function")return Kt(x,I,su(P),Q);if(P.$$typeof===ot)return Kt(x,I,Qo(x,P),Q);ru(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(a(x,I.sibling),Q=c(I,P),Q.return=x,x=Q):(a(x,I),Q=Zc(P,x.mode,Q),Q.return=x,x=Q),y(x)):a(x,I)}return function(x,I,P,Q){try{vl=0;var rt=Kt(x,I,P,Q);return tr=null,rt}catch(lt){if(lt===cl||lt===Ko)throw lt;var Rt=ln(29,lt,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var er=Rg(!0),wg=Rg(!1),bn=Z(null),Zn=null;function $i(t){var n=t.alternate;W(Se,Se.current&1),W(bn,t),Zn===null&&(n===null||Zs.current!==null||n.memoizedState!==null)&&(Zn=t)}function Cg(t){if(t.tag===22){if(W(Se,Se.current),W(bn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Ji()}function Ji(){W(Se,Se.current),W(bn,bn.current)}function wi(t){it(bn),Zn===t&&(Zn=null),it(Se)}var Se=Z(0);function lu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ef(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Nh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Ki(l);c.payload=n,a!=null&&(c.callback=a),n=Xi(t,c,l),n!==null&&(fn(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Ki(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Xi(t,c,l),n!==null&&(fn(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=Ki(a);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,a),n!==null&&(fn(n,t,a),fl(n,t,a))}};function Ig(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(c,f):!0}function Dg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function os(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ng(t){ou(t)}function Vg(t){console.error(t)}function Mg(t){ou(t)}function uu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Mh(t,n,a){return a=Ki(a),a.tag=3,a.payload={element:null},a.callback=function(){uu(t,n)},a}function xg(t){return t=Ki(t),t.tag=3,t}function Ug(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Og(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Og(n,a,l),typeof c!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function wT(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Zn===null?nf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===lh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return a.flags|=65536,l===lh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),sf(t,l,c)),!1}throw Error(r(435,a.tag))}return sf(t,l,c),nf(),!1}if(jt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==th&&(t=Error(r(422),{cause:l}),rl(En(t,a)))):(l!==th&&(n=Error(r(423),{cause:l}),rl(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Mh(t.stateNode,l,c),ch(t,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:l});if(f=En(f,a),Cl===null?Cl=[f]:Cl.push(f),le!==4&&(le=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Mh(a.stateNode,l,t),ch(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(aa===null||!aa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=xg(c),Ug(c,t,a,l),ch(a,c),!1}a=a.return}while(a!==null);return!1}var Lg=Error(r(461)),Ie=!1;function Le(t,n,a,l){n.child=t===null?wg(n,null,a,l):er(n,t.child,a,l)}function Pg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ss(n),l=gh(t,n,a,y,f,c),E=ph(),t!==null&&!Ie?(yh(t,n,c),Ci(t,n,c)):(jt&&E&&Jc(n),n.flags|=1,Le(t,n,l,c),n.child)}function zg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Xc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,c)):(t=qo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(y,l)&&t.ref===n.ref)return Ci(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ci(t,n,c)}return Oh(t,n,a,l,c)}function kg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Bg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yo(n,f!==null?f.cachePool:null),f!==null?jm(n,f):fh(),Cg(n);else return n.lanes=n.childLanes=536870912,Bg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Yo(n,f.cachePool),jm(n,f),Ji(),n.memoizedState=null):(t!==null&&Yo(n,null),fh(),Ji());return Le(t,n,c,a),n.child}function Bg(t,n,a,l){var c=rh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Yo(n,null),fh(),Cg(n),t!==null&&ll(t,n,l,!0),null}function cu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Oh(t,n,a,l,c){return ss(n),a=gh(t,n,a,l,void 0,c),l=ph(),t!==null&&!Ie?(yh(t,n,c),Ci(t,n,c)):(jt&&l&&Jc(n),n.flags|=1,Le(t,n,a,c),n.child)}function qg(t,n,a,l,c,f){return ss(n),n.updateQueue=null,a=Bm(n,l,a,c),km(t),l=ph(),t!==null&&!Ie?(yh(t,n,f),Ci(t,n,f)):(jt&&l&&Jc(n),n.flags|=1,Le(t,n,a,f),n.child)}function Hg(t,n,a,l,c){if(ss(n),n.stateNode===null){var f=Fs,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},oh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):Fs,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Nh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vh.enqueueReplaceState(f,f.state,null),ml(n,l,f,c),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=os(a,E);f.props=b;var z=f.context,F=a.contextType;y=Fs,typeof F=="object"&&F!==null&&(y=He(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Dg(n,f,l,y),Yi=!1;var k=n.memoizedState;f.state=k,ml(n,l,f,c),dl(),z=n.memoizedState,E||k!==z||Yi?(typeof Y=="function"&&(Nh(n,a,Y,l),z=n.memoizedState),(b=Yi||Ig(n,a,b,l,k,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),y=n.memoizedProps,F=os(a,y),f.props=F,Y=n.pendingProps,k=f.context,z=a.contextType,b=Fs,typeof z=="object"&&z!==null&&(b=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||k!==b)&&Dg(n,f,l,b),Yi=!1,k=n.memoizedState,f.state=k,ml(n,l,f,c),dl();var B=n.memoizedState;y!==Y||k!==B||Yi||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof E=="function"&&(Nh(n,a,E,l),B=n.memoizedState),(F=Yi||Ig(n,a,F,l,k,B,b)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,cu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=er(n,t.child,null,c),n.child=er(n,null,a,c)):Le(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ci(t,n,c),t}function Gg(t,n,a,l){return sl(),n.flags|=256,Le(t,n,a,l),n.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uh(t){return{baseLanes:t,cachePool:Vm()}}function Lh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function Fg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?$i(n):Ji(),jt){var E=re,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ts!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,re=null,b=!0):b=!1}b||is(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ef(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=hu({mode:"hidden",children:E},c),l=Wa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Uh(a),c.childLanes=Lh(t,y,a),n.memoizedState=xh,l):($i(n),Ph(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=zh(t,n,a)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=hu({mode:"visible",children:l.children},E),c=Wa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,er(n,t.child,null,a),l=n.child,l.memoizedState=Uh(a),l.childLanes=Lh(t,y,a),n.memoizedState=xh,n=c);else if($i(n),Ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,rl({value:l,source:null,stack:null}),n=zh(t,n,a)}else if(Ie||ll(t,n,a,!1),y=(a&t.childLanes)!==0,Ie||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:ji(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Gs(t,l),fn(y,t,l),Lg;E.data==="$?"||nf(),n=zh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=xn(E.nextSibling),$e=n,jt=!0,ns=null,Xn=!1,t!==null&&(An[Sn++]=Ti,An[Sn++]=Ai,An[Sn++]=ts,Ti=t.id,Ai=t.overflow,ts=n),n=Ph(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=Ei(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=Ei(z,c):(c=Wa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Uh(a):(b=E.cachePool,b!==null?(z=Ae._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Vm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Lh(t,y,a),n.memoizedState=xh,l):($i(n),a=t.child,t=a.sibling,a=Ei(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ph(t,n){return n=hu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zh(t,n,a){return er(n,t.child,null,a),t=Ph(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nh(t.return,n,a)}function jh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Yg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qg(t,a,n);else if(t.tag===19)Qg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Se,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&lu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),jh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&lu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}jh(n,!0,a,null,f);break;case"together":jh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ia|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ei(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ei(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function CT(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Qi(n,Ae,t.memoizedState.cache),sl();break;case 27:case 5:zi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Fg(t,n,a):($i(n),t=Ci(t,n,a),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ll(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Yg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,kg(t,n,a);case 24:Qi(n,Ae,t.memoizedState.cache)}return Ci(t,n,a)}function Kg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!kh(t,a)&&(n.flags&128)===0)return Ie=!1,CT(t,n,a);Ie=(t.flags&131072)!==0}else Ie=!1,jt&&(n.flags&1048576)!==0&&bm(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Xc(l)?(t=os(l,t),n.tag=1,n=Hg(null,n,l,t,a)):(n.tag=0,n=Oh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Lt){n.tag=11,n=Pg(null,n,l,t,a);break t}else if(c===M){n.tag=14,n=zg(null,n,l,t,a);break t}}throw n=Oe(l)||l,Error(r(306,n,""))}}return n;case 0:return Oh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=os(l,n.pendingProps),Hg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),ml(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Qi(n,Ae,l),l!==f.cache&&ih(n,[Ae],a,!0),dl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gg(t,n,l,a);break t}else if(l!==c){c=En(Error(r(424)),n),rl(c),n=Gg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=xn(t.firstChild),$e=n,jt=!0,ns=null,Xn=!0,a=wg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===c){n=Ci(t,n,a);break t}Le(t,n,l,a)}n=n.child}return n;case 26:return cu(t,n),t===null?(a=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,l=Ru(yt.current).createElement(a),l[ve]=n,l[fe]=t,ze(l,a,t),oe(l),n.stateNode=l):n.memoizedState=Jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&jt&&(l=n.stateNode=Xp(n.type,n.pendingProps,yt.current),$e=n,Xn=!0,c=re,la(n.type)?(Tf=c,re=xn(l.firstChild)):re=c),Le(t,n,n.pendingProps.children,a),cu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=re)&&(l=e0(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,$e=n,re=xn(l.firstChild),Xn=!1,c=!0):c=!1),c||is(n)),zi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:y!==null&&yf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,vT,null,null,a),Ll._currentValue=c),cu(t,n),Le(t,n,l,a),n.child;case 6:return t===null&&jt&&((t=a=re)&&(a=n0(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,$e=n,re=null,t=!0):t=!1),t||is(n)),null;case 13:return Fg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=er(n,null,l,a):Le(t,n,l,a),n.child;case 11:return Pg(t,n,n.type,n.pendingProps,a);case 7:return Le(t,n,n.pendingProps,a),n.child;case 8:return Le(t,n,n.pendingProps.children,a),n.child;case 12:return Le(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Le(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ss(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,a),n.child;case 14:return zg(t,n,n.type,n.pendingProps,a);case 15:return jg(t,n,n.type,n.pendingProps,a);case 19:return Yg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=hu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ei(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return kg(t,n,a);case 24:return ss(n),l=He(Ae),t===null?(c=rh(),c===null&&(c=$t,f=ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},oh(n),Qi(n,Ae,c)):((t.lanes&a)!==0&&(uh(t,n),ml(n,null,null,a),dl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,Ae,l)):(l=f.cache,Qi(n,Ae,l),l!==c.cache&&ih(n,[Ae],a,!0))),Le(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ii(t){t.flags|=4}function Xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n)){if(n=bn.current,n!==null&&((Mt&4194048)===Mt?Zn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Zn))throw hl=lh,Mm;t.flags|=8192}}function fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zr():536870912,t.lanes|=n,sr|=n)}function Tl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function IT(t,n,a){var l=n.pendingProps;switch(Wc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Ae),Pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cm())),ne(n),null;case 26:return a=n.memoizedState,t===null?(Ii(n),a!==null?(ne(n),Xg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ii(n),ne(n),Xg(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ii(n),ne(n),n.flags&=-16777217),null;case 27:li(n),a=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=ht.current,al(n)?Rm(n):(t=Xp(c,l,a),n.stateNode=t,Ii(n))}return ne(n),null;case 5:if(li(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(t=ht.current,al(n))Rm(n);else{switch(c=Ru(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ve]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ii(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=yt.current,al(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qp(t.nodeValue,a)),t||is(n)}else t=Ru(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ve]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Cm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),fu(n,n.updateQueue),ne(n),null;case 4:return Pn(),t===null&&ff(n.stateNode.containerInfo),ne(n),null;case 10:return bi(n.type),ne(n),null;case 19:if(it(Se),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Tl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=lu(t),f!==null){for(n.flags|=128,Tl(c,!1),t=f.updateQueue,n.updateQueue=t,fu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Sm(a,t),a=a.sibling;return W(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>gu&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304)}else{if(!l)if(t=lu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,fu(n,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return ne(n),null}else 2*mn()-c.renderingStartTime>gu&&a!==536870912&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Se.current,W(Se,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return wi(n),dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&fu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&it(rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bi(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function DT(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Ae),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Se),null;case 4:return Pn(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),dh(),t!==null&&it(rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Ae),null;case 25:return null;default:return null}}function Zg(t,n){switch(Wc(n),n.tag){case 3:bi(Ae),Pn();break;case 26:case 27:case 5:li(n);break;case 4:Pn();break;case 13:wi(n);break;case 19:it(Se);break;case 10:bi(n.type);break;case 22:case 23:wi(n),dh(),t!==null&&it(rs);break;case 24:bi(Ae)}}function Al(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Wi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,z=E;try{z()}catch(F){Xt(c,b,F)}}}l=l.next}while(l!==f)}}catch(F){Xt(n,n.return,F)}}function $g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{zm(n,a)}catch(l){Xt(t,t.return,l)}}}function Jg(t,n,a){a.props=os(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Sl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function $n(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Wg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Bh(t,n,a){try{var l=t.stateNode;ZT(l,t.type,a,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function tp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&la(t.type)||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&la(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=bu));else if(l!==4&&(l===27&&la(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Hh(t,n,a),t=t.sibling;t!==null;)Hh(t,n,a),t=t.sibling}function du(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&la(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(du(t,n,a),t=t.sibling;t!==null;)du(t,n,a),t=t.sibling}function ep(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,a),n[ve]=t,n[fe]=a}catch(f){Xt(t,t.return,f)}}var Di=!1,ce=!1,Gh=!1,np=typeof WeakSet=="function"?WeakSet:Set,De=null;function NT(t,n){if(t=t.containerInfo,gf=Vu,t=dm(t),qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,z=0,F=0,Y=t,k=null;e:for(;;){for(var B;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(B=Y.firstChild)!==null;)k=Y,Y=B;for(;;){if(Y===t)break e;if(k===a&&++z===c&&(E=y),k===f&&++F===l&&(b=y),(B=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},Vu=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pt=os(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function ip(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ta(t,a),l&4&&Al(5,a);break;case 1:if(ta(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=os(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&$g(a),l&512&&Sl(a,a.return);break;case 3:if(ta(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{zm(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&ep(a);case 26:case 5:ta(t,a),n===null&&l&4&&Wg(a),l&512&&Sl(a,a.return);break;case 12:ta(t,a);break;case 13:ta(t,a),l&4&&rp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=jT.bind(null,a),i0(t,a))));break;case 22:if(l=a.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||ce,c=Di;var f=ce;Di=l,(ce=n)&&!f?ea(t,a,(a.subtreeFlags&8772)!==0):ta(t,a),Di=c,ce=f}break;case 30:break;default:ta(t,a)}}function ap(t){var n=t.alternate;n!==null&&(t.alternate=null,ap(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,We=!1;function Ni(t,n,a){for(a=a.child;a!==null;)sp(t,n,a),a=a.sibling}function sp(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||$n(a,n),Ni(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||$n(a,n);var l=ee,c=We;la(a.type)&&(ee=a.stateNode,We=!1),Ni(t,n,a),Ml(a.stateNode),ee=l,We=c;break;case 5:ce||$n(a,n);case 6:if(l=ee,c=We,ee=null,Ni(t,n,a),ee=l,We=c,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{ee.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:ee!==null&&(We?(t=ee,Yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),kl(t)):Yp(ee,a.stateNode));break;case 4:l=ee,c=We,ee=a.stateNode.containerInfo,We=!0,Ni(t,n,a),ee=l,We=c;break;case 0:case 11:case 14:case 15:ce||Wi(2,a,n),ce||Wi(4,a,n),Ni(t,n,a);break;case 1:ce||($n(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jg(a,n,l)),Ni(t,n,a);break;case 21:Ni(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Ni(t,n,a),ce=l;break;default:Ni(t,n,a)}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(a){Xt(n,n.return,a)}}function VT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new np),n;default:throw Error(r(435,t.tag))}}function Fh(t,n){var a=VT(t);n.forEach(function(l){var c=kT.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(la(E.type)){ee=E.stateNode,We=!1;break t}break;case 5:ee=E.stateNode,We=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(ee===null)throw Error(r(160));sp(f,y,c),ee=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var On=null;function lp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Wi(3,t,t.return),Al(3,t),Wi(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=On;if(on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Pa]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,a),f[ve]=t,oe(f),l=f;break t;case"link":var y=ey("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;case"meta":if(y=ey("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ve]=t,oe(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bh(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),a!==null&&l&4&&Bh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(B){Xt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Bh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){Xt(t,t.return,B)}}break;case 3:if(Iu=null,c=On,On=wu(n.containerInfo),on(n,t),On=c,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(B){Xt(t,t.return,B)}Gh&&(Gh=!1,op(t));break;case 4:l=On,On=wu(t.stateNode.containerInfo),on(n,t),un(t),On=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($h=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,z=Di,F=ce;if(Di=z||c,ce=F||b,on(n,t),ce=F,Di=z,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Di||ce||us(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Xt(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Xt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Fh(t,a))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(tp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=qh(t);du(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(pn(y,""),a.flags&=-33);var E=qh(t);du(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,z=qh(t);Hh(t,z,b);break;default:throw Error(r(161))}}catch(F){Xt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ta(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(t,n.alternate,n),n=n.sibling}function us(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),us(n);break;case 1:$n(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Jg(n,n.return,a),us(n);break;case 27:Ml(n.stateNode);case 26:case 5:$n(n,n.return),us(n);break;case 22:n.memoizedState===null&&us(n);break;case 30:us(n);break;default:us(n)}t=t.sibling}}function ea(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ea(c,f,a),Al(4,f);break;case 1:if(ea(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Pm(b[c],E)}catch(z){Xt(l,l.return,z)}}a&&y&64&&$g(f),Sl(f,f.return);break;case 27:ep(f);case 26:case 5:ea(c,f,a),a&&l===null&&y&4&&Wg(f),Sl(f,f.return);break;case 12:ea(c,f,a);break;case 13:ea(c,f,a),a&&y&4&&rp(c,f);break;case 22:f.memoizedState===null&&ea(c,f,a),Sl(f,f.return);break;case 30:break;default:ea(c,f,a)}n=n.sibling}}function Qh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function Jn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,a,l),n=n.sibling}function up(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,l),c&2048&&Al(9,n);break;case 1:Jn(t,n,a,l);break;case 3:Jn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(c&2048){Jn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Jn(t,n,a,l);break;case 13:Jn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,l):bl(t,n):f._visibility&2?Jn(t,n,a,l):(f._visibility|=2,nr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Qh(y,n);break;case 24:Jn(t,n,a,l),c&2048&&Yh(n.alternate,n);break;default:Jn(t,n,a,l)}}function nr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:nr(f,y,E,b,c),Al(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?nr(f,y,E,b,c):bl(f,y):(F._visibility|=2,nr(f,y,E,b,c)),c&&z&2048&&Qh(y.alternate,y);break;case 24:nr(f,y,E,b,c),c&&z&2048&&Yh(y.alternate,y);break;default:nr(f,y,E,b,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:bl(a,l),c&2048&&Qh(l.alternate,l);break;case 24:bl(a,l),c&2048&&Yh(l.alternate,l);break;default:bl(a,l)}n=n.sibling}}var Rl=8192;function ir(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 26:ir(t),t.flags&Rl&&t.memoizedState!==null&&p0(On,t.memoizedState,t.memoizedProps);break;case 5:ir(t);break;case 3:case 4:var n=On;On=wu(t.stateNode.containerInfo),ir(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rl,Rl=16777216,ir(t),Rl=n):ir(t));break;default:ir(t)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];De=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mu(t)):wl(t);break;default:wl(t)}}function mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];De=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mu(n));break;default:mu(n)}t=t.sibling}}function dp(t,n){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:Wi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,De=l;else t:for(a=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(ap(l),l===a){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var MT={getCacheForType:function(t){var n=He(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},OT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,Mt=0,Gt=0,cn=null,na=!1,ar=!1,Kh=!1,Vi=0,le=0,ia=0,cs=0,Xh=0,Rn=0,sr=0,Cl=null,tn=null,Zh=!1,$h=0,gu=1/0,pu=null,aa=null,Pe=0,sa=null,rr=null,lr=0,Jh=0,Wh=null,mp=null,Il=0,tf=null;function hn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(G.T!==null){var t=Ks;return t!==0?t:of()}return ki()}function gp(){Rn===0&&(Rn=(Mt&536870912)===0||jt?Pr():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function fn(t,n,a){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(or(t,0),ra(t,Mt,Rn,!1)),ui(t,a),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(cs|=a),le===4&&ra(t,Mt,Rn,!1)),Wn(t))}function pp(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||La(t,n),c=l?LT(t,n):af(t,n,!0),f=l;do{if(c===0){ar&&!l&&ra(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!xT(a)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Cl;var b=E.current.memoizedState.isDehydrated;if(b&&(or(E,y).flags|=256),y=af(E,y,!1),y!==2){if(Kh&&!b){E.errorRecoveryDisabledLanes|=f,cs|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){or(t,0),ra(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ra(l,n,Rn,!na);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=$h+300-mn(),10<c)){if(ra(l,n,Rn,!na),Rs(l,0,!0)!==0)break t;l.timeoutHandle=Fp(yp.bind(null,l,a,tn,pu,Zh,n,Rn,cs,sr,na,f,2,-0,0),c);break t}yp(l,a,tn,pu,Zh,n,Rn,cs,sr,na,f,0,-0,0)}}break}while(!0);Wn(t)}function yp(t,n,a,l,c,f,y,E,b,z,F,Y,k,B){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:g0},cp(n),Y=y0(),Y!==null)){t.cancelPendingCommit=Y(bp.bind(null,t,n,f,a,l,c,y,E,b,F,1,k,B)),ra(t,f,y,!z);return}bp(t,n,f,a,l,c,y,E,b)}function xT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ra(t,n,a,l){n&=~Xh,n&=~cs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&zn(t,a,n)}function yu(){return(Ht&6)===0?(Dl(0),!1):!0}function ef(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Si=as=null,_h(t),tr=null,vl=0,t=wt;for(;t!==null;)Zg(t.alternate,t),t=t.return;wt=null}}function or(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ef(),$t=t,wt=a=Ei(t.current,null),Mt=n,Gt=0,cn=null,na=!1,ar=La(t,n),Kh=!1,sr=Rn=Xh=cs=ia=le=0,tn=Cl=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,jo(),a}function _p(t,n){St=null,G.H=au,n===cl||n===Ko?(n=Um(),Gt=3):n===Mm?(n=Um(),Gt=4):Gt=n===Lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,wt===null&&(le=1,uu(t,En(n,t.current)))}function vp(){var t=G.H;return G.H=au,t===null?au:t}function Ep(){var t=G.A;return G.A=MT,t}function nf(){le=4,na||(Mt&4194048)!==Mt&&bn.current!==null||(ar=!0),(ia&134217727)===0&&(cs&134217727)===0||$t===null||ra($t,Mt,Rn,!1)}function af(t,n,a){var l=Ht;Ht|=2;var c=vp(),f=Ep();($t!==t||Mt!==n)&&(pu=null,or(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,b=cn;switch(Gt){case 8:ef(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Gt;if(Gt=0,cn=null,ur(t,E,b,z),a&&ar){y=0;break t}break;default:z=Gt,Gt=0,cn=null,ur(t,E,b,z)}}UT(),y=le;break}catch(F){_p(t,F)}while(!0);return n&&t.shellSuspendCounter++,Si=as=null,Ht=l,G.H=c,G.A=f,wt===null&&($t=null,Mt=0,jo()),y}function UT(){for(;wt!==null;)Tp(wt)}function LT(t,n){var a=Ht;Ht|=2;var l=vp(),c=Ep();$t!==t||Mt!==n?(pu=null,gu=mn()+500,or(t,n)):ar=La(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,ur(t,n,f,1);break;case 2:case 9:if(Om(f)){Gt=0,cn=null,Ap(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Om(f)?(Gt=0,cn=null,Ap(n)):(Gt=0,cn=null,ur(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||iy(y)){Gt=0,cn=null;var b=E.sibling;if(b!==null)wt=b;else{var z=E.return;z!==null?(wt=z,_u(z)):wt=null}break e}}Gt=0,cn=null,ur(t,n,f,5);break;case 6:Gt=0,cn=null,ur(t,n,f,6);break;case 8:ef(),le=6;break t;default:throw Error(r(462))}}PT();break}catch(F){_p(t,F)}while(!0);return Si=as=null,G.H=l,G.A=c,Ht=a,wt!==null?0:($t=null,Mt=0,jo(),le)}function PT(){for(;wt!==null&&!Or();)Tp(wt)}function Tp(t){var n=Kg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?_u(t):wt=n}function Ap(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=qg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=qg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:_h(n);default:Zg(a,n),n=wt=Sm(n,Vi),n=Kg(a,n,Vi)}t.memoizedProps=t.pendingProps,n===null?_u(t):wt=n}function ur(t,n,a,l){Si=as=null,_h(n),tr=null,vl=0;var c=n.return;try{if(wT(t,c,n,a,Mt)){le=1,uu(t,En(a,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,uu(t,En(a,t.current)),wt=null;return}n.flags&32768?(jt||l===1?t=!0:ar||(Mt&536870912)!==0?t=!1:(na=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):_u(n)}function _u(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,na);return}t=n.return;var a=IT(n.alternate,n,Vi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function Sp(t,n){do{var a=DT(t.alternate,t);if(a!==null){a.flags&=32767,wt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=a}while(t!==null);le=6,wt=null}function bp(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do vu();while(Pe!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Yc,jr(t,a,f,y,E,b),t===$t&&(wt=$t=null,Mt=0),rr=n,sa=t,lr=a,Jh=f,Wh=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,BT(Ma,function(){return Dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=nt.p,nt.p=2,y=Ht,Ht|=4;try{NT(t,n,a)}finally{Ht=y,nt.p=c,G.T=l}}Pe=1,Rp(),wp(),Cp()}}function Rp(){if(Pe===1){Pe=0;var t=sa,n=rr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{lp(n,t);var f=pf,y=dm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(b!==null&&qc(E)){var z=b.start,F=b.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var B=k.getSelection(),pt=E.textContent.length,ft=Math.min(b.start,pt),Kt=b.end===void 0?ft:Math.min(b.end,pt);!B.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var x=hm(E,ft),I=hm(E,Kt);if(x&&I&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)){var P=Y.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),ft>Kt?(B.addRange(P),B.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),B.addRange(P))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vu=!!gf,pf=gf=null}finally{Ht=c,nt.p=l,G.T=a}}t.current=n,Pe=2}}function wp(){if(Pe===2){Pe=0;var t=sa,n=rr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{ip(t,n.alternate,n)}finally{Ht=c,nt.p=l,G.T=a}}Pe=3}}function Cp(){if(Pe===4||Pe===3){Pe=0,mo();var t=sa,n=rr,a=lr,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,rr=sa=null,Ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(aa=null),ws(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=nt.p,nt.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=c}}(lr&3)!==0&&vu(),Wn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===tf?Il++:(Il=0,tf=t):Il=0,Dl(0)}}function Ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function vu(t){return Rp(),wp(),Cp(),Dp()}function Dp(){if(Pe!==5)return!1;var t=sa,n=Jh;Jh=0;var a=ws(lr),l=G.T,c=nt.p;try{nt.p=32>a?32:a,G.T=null,a=Wh,Wh=null;var f=sa,y=lr;if(Pe=0,rr=sa=null,lr=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,fp(f.current),up(f,f.current,y,a),Ht=E,Dl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{nt.p=c,G.T=l,Ip(t,n)}}function Np(t,n,a){n=En(a,n),n=Mh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(ui(t,2),Wn(t))}function Xt(t,n,a){if(t.tag===3)Np(t,t,a);else for(;n!==null;){if(n.tag===3){Np(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){t=En(a,t),a=xg(2),l=Xi(n,a,2),l!==null&&(Ug(a,l,n,t),ui(l,2),Wn(l));break}}n=n.return}}function sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new OT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Kh=!0,c.add(a),t=zT.bind(null,t,n,a),n.then(t,t))}function zT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Mt&a)===a&&(le===4||le===3&&(Mt&62914560)===Mt&&300>mn()-$h?(Ht&2)===0&&or(t,0):Xh|=a,sr===Mt&&(sr=0)),Wn(t)}function Vp(t,n){n===0&&(n=zr()),t=Gs(t,n),t!==null&&(ui(t,n),Wn(t))}function jT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Vp(t,a)}function kT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Vp(t,a)}function BT(t,n){return Na(t,n)}var Eu=null,cr=null,rf=!1,Tu=!1,lf=!1,hs=0;function Wn(t){t!==cr&&t.next===null&&(cr===null?Eu=cr=t:cr=cr.next=t),Tu=!0,rf||(rf=!0,HT())}function Dl(t,n){if(!lf&&Tu){lf=!0;do for(var a=!1,l=Eu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Up(l,f))}else f=Mt,f=Rs(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||La(l,f)||(a=!0,Up(l,f));l=l.next}while(a);lf=!1}}function qT(){Mp()}function Mp(){Tu=rf=!1;var t=0;hs!==0&&($T()&&(t=hs),hs=0);for(var n=mn(),a=null,l=Eu;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,a===null?Eu=c:a.next=c,c===null&&(cr=a)):(a=l,(t!==0||(f&3)!==0)&&(Tu=!0)),l=c}Dl(t)}function Op(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Lr(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Mt,a=Rs(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Va(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||La(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Va(l),ws(a)){case 2:case 8:a=Ss;break;case 32:a=Ma;break;case 268435456:a=bs;break;default:a=Ma}return l=xp.bind(null,t),a=Na(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Va(l),t.callbackPriority=2,t.callbackNode=null,2}function xp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vu()&&t.callbackNode!==a)return null;var l=Mt;return l=Rs(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),Op(t,mn()),t.callbackNode!=null&&t.callbackNode===a?xp.bind(null,t):null)}function Up(t,n){if(vu())return null;pp(t,n,!0)}function HT(){WT(function(){(Ht&6)!==0?Na(xr,qT):Mp()})}function of(){return hs===0&&(hs=Pr()),hs}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function Pp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function GT(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Lp((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?Lp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Os("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var b=y?Pp(c,y):new FormData(c);Ch(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Pp(c,y):new FormData(c),Ch(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var uf=0;uf<Qc.length;uf++){var cf=Qc[uf],FT=cf.toLowerCase(),QT=cf[0].toUpperCase()+cf.slice(1);Mn(FT,"on"+QT)}Mn(pm,"onAnimationEnd"),Mn(ym,"onAnimationIteration"),Mn(_m,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(uT,"onTransitionRun"),Mn(cT,"onTransitionStart"),Mn(hT,"onTransitionCancel"),Mn(vm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function zp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){ou(F)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){ou(F)}c.currentTarget=null,f=b}}}}function Ct(t,n){var a=n[Br];a===void 0&&(a=n[Br]=new Set);var l=t+"__bubble";a.has(l)||(jp(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),jp(a,t,l,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[Au]){t[Au]=!0,qr.forEach(function(a){a!=="selectionchange"&&(YT.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Au]||(n[Au]=!0,hf("selectionchange",!1,n))}}function jp(t,n,a,l){switch(uy(n)){case 2:var c=E0;break;case 8:c=T0;break;default:c=wf}a=c.bind(null,n,a,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function df(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}bo(function(){var z=f,F=yn(a),Y=[];t:{var k=Em.get(t);if(k!==void 0){var B=Os,pt=t;switch(t){case"keypress":if(Gn(a)===0)break t;case"keydown":case"keyup":B=js;break;case"focusin":pt="focus",B=Ls;break;case"focusout":pt="blur",B=Ls;break;case"beforeblur":case"afterblur":B=Ls;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Mo;break;case pm:case ym:case _m:B=Ps;break;case vm:B=xo;break;case"scroll":case"scrollend":B=Ro;break;case"wheel":B=ks;break;case"copy":case"cut":case"paste":B=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=tl;break;case"toggle":case"beforetoggle":B=Lo}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),x=ft?k!==null?k+"Capture":null:k;ft=[];for(var I=z,P;I!==null;){var Q=I;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||x===null||(Q=Ga(I,x),Q!=null&&ft.push(Vl(I,Q,P))),Kt)break;I=I.return}0<ft.length&&(k=new B(k,pt,null,a,F),Y.push({event:k,listeners:ft}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&a!==mi&&(pt=a.relatedTarget||a.fromElement)&&(ci(pt)||pt[gn]))break t;if((B||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,B?(pt=a.relatedTarget||a.toElement,B=z,pt=pt?ci(pt):null,pt!==null&&(Kt=h(pt),ft=pt.tag,pt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(pt=null)):(B=null,pt=z),B!==pt)){if(ft=vn,Q="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ft=tl,Q="onPointerLeave",x="onPointerEnter",I="pointer"),Kt=B==null?k:kn(B),P=pt==null?k:kn(pt),k=new ft(Q,I+"leave",B,a,F),k.target=Kt,k.relatedTarget=P,Q=null,ci(F)===z&&(ft=new ft(x,I+"enter",pt,a,F),ft.target=P,ft.relatedTarget=Kt,Q=ft),Kt=Q,B&&pt)e:{for(ft=B,x=pt,I=0,P=ft;P;P=hr(P))I++;for(P=0,Q=x;Q;Q=hr(Q))P++;for(;0<I-P;)ft=hr(ft),I--;for(;0<P-I;)x=hr(x),P--;for(;I--;){if(ft===x||x!==null&&ft===x.alternate)break e;ft=hr(ft),x=hr(x)}ft=null}else ft=null;B!==null&&kp(Y,k,B,ft,!1),pt!==null&&Kt!==null&&kp(Y,Kt,pt,ft,!0)}}t:{if(k=z?kn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var rt=sm;else if(Te(k))if(rm)rt=rT;else{rt=aT;var Rt=iT}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Yr(z.elementType)&&(rt=sm):rt=sT;if(rt&&(rt=rt(t,z))){vi(Y,rt,a,F);break t}Rt&&Rt(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Gi(k,"number",k.value)}switch(Rt=z?kn(z):window,t){case"focusin":(Te(Rt)||Rt.contentEditable==="true")&&(Bs=Rt,Hc=z,il=null);break;case"focusout":il=Hc=Bs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,mm(Y,a,F);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":mm(Y,a,F)}var lt;if(Yn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Nt?q(t,a)&&(dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(p&&a.locale!=="ko"&&(Nt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Nt&&(lt=Xr()):(Hn=F,Fi="value"in Hn?Hn.value:Hn.textContent,Nt=!0)),Rt=Su(z,dt),0<Rt.length&&(dt=new Jr(dt,t,null,a,F),Y.push({event:dt,listeners:Rt}),lt?dt.data=lt:(lt=tt(a),lt!==null&&(dt.data=lt)))),(lt=m?Ee(t,a):Vt(t,a))&&(dt=Su(z,"onBeforeInput"),0<dt.length&&(Rt=new Jr("onBeforeInput","beforeinput",null,a,F),Y.push({event:Rt,listeners:dt}),Rt.data=lt)),GT(Y,t,z,a,F)}zp(Y,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Su(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ga(t,a),c!=null&&l.unshift(Vl(t,c,f)),c=Ga(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=Ga(a,f),z!=null&&y.unshift(Vl(a,z,b))):c||(z=Ga(a,f),z!=null&&y.push(Vl(a,z,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var KT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function Bp(t){return(typeof t=="string"?t:""+t).replace(KT,`
`).replace(XT,"")}function qp(t,n){return n=Bp(n),Bp(t)===n}function bu(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,l);break;case"style":Qr(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=bu);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ms(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lc.get(a)||a,Hi(t,a,l))}}function mf(t,n,a,l,c,f){switch(a){case"style":Qr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Hi(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,f,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":y=F;break;case"checked":b=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Yt(t,n,l,F,a,null)}}Ba(t,f,E,b,z,y,c,!1),Vs(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):a!=null&&di(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(t,n,y,E,a,null)}qa(t,l,c,f),Vs(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ct(Nl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,z,l,a,null)}return;default:if(Yr(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&mf(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function ZT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,z=null,F=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(B)||Yt(t,n,B,null,l,Y)}}for(var k in l){var B=l[k];if(Y=a[k],l.hasOwnProperty(k)&&(B!=null||Y!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":F=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==Y&&Yt(t,n,k,B,l,Y)}}sn(t,y,E,b,z,F,f,c);return;case"select":B=y=E=k=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,a=y,l=B,k!=null?di(t,!!a,k,!1):!!l!=!!a&&(n!=null?di(t,!!a,n,!0):di(t,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Ft(t,k,B);return;case"option":for(var pt in a)if(k=a[pt],a.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Yt(t,n,pt,null,l,k)}for(b in l)if(k=l[b],B=a[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Yt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)k=a[ft],a.hasOwnProperty(ft)&&k!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,k);for(z in l)if(k=l[z],B=a[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Yt(t,n,z,k,l,B)}return;default:if(Yr(n)){for(var Kt in a)k=a[Kt],a.hasOwnProperty(Kt)&&k!==void 0&&!l.hasOwnProperty(Kt)&&mf(t,n,Kt,void 0,l,k);for(F in l)k=l[F],B=a[F],!l.hasOwnProperty(F)||k===B||k===void 0&&B===void 0||mf(t,n,F,k,l,B);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,k);for(Y in l)k=l[Y],B=a[Y],!l.hasOwnProperty(Y)||k===B||k==null&&B==null||Yt(t,n,Y,k,l,B)}var gf=null,pf=null;function Ru(t){return t.nodeType===9?t:t.ownerDocument}function Hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function $T(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(t0)}:Fp;function t0(t){setTimeout(function(){throw t})}function la(t){return t==="head"}function Yp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Ml(y.documentElement),a&2&&Ml(y.body),a&4)for(a=y.head,Ml(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Pa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),kl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);kl(n)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function e0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Pa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function n0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function i0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Tf=null;function Kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Xp(t,n,a){switch(n=Ru(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var wn=new Map,Zp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=nt.d;nt.d={f:a0,r:s0,D:r0,C:l0,L:o0,m:u0,X:h0,S:c0,M:f0};function a0(){var t=Mi.f(),n=yu();return t||n}function s0(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Mi.r(t)}var fr=typeof document>"u"?null:document;function $p(t,n,a){var l=fr;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function r0(t){Mi.D(t),$p("dns-prefetch",t,null)}function l0(t,n){Mi.C(t,n),$p("preconnect",t,n)}function o0(t,n,a){Mi.L(t,n,a);var l=fr;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=dr(t);break;case"script":f=mr(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(xl(f))||(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function u0(t,n){Mi.m(t,n);var a=fr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=mr(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(f)))return}l=a.createElement("link"),ze(l,"link",t),oe(l),a.head.appendChild(l)}}}function c0(t,n,a){Mi.S(t,n,a);var l=fr;if(l&&t){var c=Ke(l).hoistableStyles,f=dr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ol(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&Af(t,a);var b=y=l.createElement("link");oe(b),ze(b,"link",t),b._p=new Promise(function(z,F){b.onload=z,b.onerror=F}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function h0(t,n){Mi.X(t,n);var a=fr;if(a&&t){var l=Ke(a).hoistableScripts,c=mr(t),f=l.get(c);f||(f=a.querySelector(xl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&Sf(t,n),f=a.createElement("script"),oe(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function f0(t,n){Mi.M(t,n);var a=fr;if(a&&t){var l=Ke(a).hoistableScripts,c=mr(t),f=l.get(c);f||(f=a.querySelector(xl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&Sf(t,n),f=a.createElement("script"),oe(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Jp(t,n,a,l){var c=(c=yt.current)?wu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=dr(a.href),a=Ke(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=dr(a.href);var f=Ke(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ol(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||d0(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=mr(a),a=Ke(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function dr(t){return'href="'+de(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function d0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),oe(n),t.head.appendChild(n))}function mr(t){return'[src="'+de(t)+'"]'}function xl(t){return"script[async]"+t}function ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),ze(l,"style",c),Cu(l,a.precedence,t),n.instance=l;case"stylesheet":c=dr(a.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Wp(a),(c=wn.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,Cu(f,a.precedence,t),n.instance=f;case"script":return f=mr(a.src),(c=t.querySelector(xl(f)))?(n.instance=c,oe(c),c):(l=a,(c=wn.get(f))&&(l=A({},a),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,a.precedence,t));return n.instance}function Cu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Iu=null;function ey(t,n,a){if(Iu===null){var l=new Map,c=Iu=new Map;c.set(a,l)}else c=Iu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Pa]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ny(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function m0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function g0(){}function p0(t,n,a){if(Ul===null)throw Error(r(475));var l=Ul;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=dr(a.href),f=t.querySelector(Ol(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Du.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,a=Wp(a),(c=wn.get(c))&&Af(a,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Du.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function y0(){if(Ul===null)throw Error(r(475));var t=Ul;return t.stylesheets&&t.count===0&&bf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&bf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Du(){if(this.count--,this.count===0){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function bf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(_0,t),Nu=null,Du.call(t))}function _0(t,n){if(!(n.state.loading&4)){var a=Nu.get(t);if(a)var l=a.get(null);else{a=new Map,Nu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=Du.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function v0(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ay(t,n,a,l,c,f,y,E,b,z,F,Y){return t=new v0(t,n,a,y,E,b,z,Y),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},oh(f),t}function sy(t){return t?(t=Fs,t):Fs}function ry(t,n,a,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Xi(t,l,n),a!==null&&(fn(a,t,n),fl(a,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Rf(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function oy(t){if(t.tag===13){var n=Gs(t,67108864);n!==null&&fn(n,t,67108864),Rf(t,67108864)}}var Vu=!0;function E0(t,n,a,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=2,wf(t,n,a,l)}finally{nt.p=f,G.T=c}}function T0(t,n,a,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=8,wf(t,n,a,l)}finally{nt.p=f,G.T=c}}function wf(t,n,a,l){if(Vu){var c=Cf(l);if(c===null)df(t,n,l,Mu,a),cy(t,l);else if(S0(c,t,n,a,l))l.stopPropagation();else if(cy(t,l),n&4&&-1<A0.indexOf(t)){for(;c!==null;){var f=jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}Wn(f),(Ht&6)===0&&(gu=mn()+500,Dl(0))}}break;case 13:E=Gs(f,2),E!==null&&fn(E,f,2),yu(),Rf(f,2)}if(f=Cf(l),f===null&&df(t,n,l,Mu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function Cf(t){return t=yn(t),If(t)}var Mu=null;function If(t){if(Mu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mu=t,null}function uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nc()){case xr:return 2;case Ss:return 8;case Ma:case Vc:return 32;case bs:return 268435456;default:return 32}default:return 32}}var Df=!1,oa=null,ua=null,ca=null,Pl=new Map,zl=new Map,ha=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(t,n){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function jl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=jn(n),n!==null&&oy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function S0(t,n,a,l,c){switch(n){case"focusin":return oa=jl(oa,t,n,a,l,c),!0;case"dragenter":return ua=jl(ua,t,n,a,l,c),!0;case"mouseover":return ca=jl(ca,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,jl(Pl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,jl(zl.get(f)||null,t,n,a,l,c)),!0}return!1}function hy(t){var n=ci(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,yo(t.priority,function(){if(a.tag===13){var l=hn();l=ji(l);var c=Gs(a,l);c!==null&&fn(c,a,l),Rf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Cf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);mi=l,a.target.dispatchEvent(l),mi=null}else return n=jn(a),n!==null&&oy(n),t.blockedOn=a,!1;n.shift()}return!0}function fy(t,n,a){Ou(t)&&a.delete(n)}function b0(){Df=!1,oa!==null&&Ou(oa)&&(oa=null),ua!==null&&Ou(ua)&&(ua=null),ca!==null&&Ou(ca)&&(ca=null),Pl.forEach(fy),zl.forEach(fy)}function xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Df||(Df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,b0)))}var Uu=null;function dy(t){Uu!==t&&(Uu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(If(l||a)===null)continue;break}var f=jn(a);f!==null&&(t.splice(n,3),n-=3,Ch(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function kl(t){function n(b){return xu(b,t)}oa!==null&&xu(oa,t),ua!==null&&xu(ua,t),ca!==null&&xu(ca,t),Pl.forEach(n),zl.forEach(n);for(var a=0;a<ha.length;a++){var l=ha[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ha.length&&(a=ha[0],a.blockedOn===null);)hy(a),a.blockedOn===null&&ha.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[fe]||null;if(typeof f=="function")y||dy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(If(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),dy(a)}}}function Nf(t){this._internalRoot=t}Lu.prototype.render=Nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=hn();ry(a,l,t,n,null,null)},Lu.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),yu(),n[gn]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ha.length&&n!==0&&n<ha[a].priority;a++);ha.splice(a,0,t),a===0&&hy(t)}};var my=e.version;if(my!=="19.1.1")throw Error(r(527,my,"19.1.1"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var R0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{se=Pu.inject(R0),qt=Pu}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Ng,f=Vg,y=Mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ay(t,1,!1,null,null,a,l,c,f,y,E,null),t[gn]=n.current,ff(t),new Nf(n)},ql.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ng,y=Vg,E=Mg,b=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=ay(t,1,!0,n,a??null,l,c,f,y,E,b,z),n.context=sy(null),a=n.current,l=hn(),l=ji(l),c=Ki(l),c.callback=null,Xi(a,c,l),a=l,n.current.lanes=a,ui(n,a),Wn(n),t[gn]=n.current,ff(t),new Lu(n)},ql.version="19.1.1",ql}var by;function U0(){if(by)return Of.exports;by=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Of.exports=x0(),Of.exports}var L0=U0();const P0=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},z0=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let V=(g&15)<<2|_>>6,H=_&63;v||(H=64,d||(V=64)),r.push(i[A],i[D],i[V],i[H])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Q_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):z0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const D=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||_==null||D==null)throw new j0;const V=h<<2|g>>4;if(r.push(V),_!==64){const H=g<<4&240|_>>2;if(r.push(H),D!==64){const $=_<<6&192|D;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class j0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k0=function(s){const e=Q_(s);return Y_.encodeByteArray(e,!0)},Zu=function(s){return k0(s).replace(/\./g,"")},B0=function(s){try{return Y_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=()=>q0().__FIREBASE_DEFAULTS__,G0=()=>{if(typeof process>"u"||typeof Ry>"u")return;const s=Ry.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},F0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&B0(s[1]);return e&&JSON.parse(e)},vd=()=>{try{return P0()||H0()||G0()||F0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Q0=s=>vd()?.emulatorHosts?.[s],Y0=s=>{const e=Q0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},K_=()=>vd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(d)),""].join(".")}const Ql={};function $0(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?s.emulator.push(e):s.prod.push(e);return s}function J0(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let wy=!1;function W0(s,e){if(typeof window>"u"||typeof document>"u"||!Ed(window.location.host)||Ql[s]===e||Ql[s]||wy)return;Ql[s]=e;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",h=$0().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{wy=!0,d()},V}function A(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function D(){const V=J0(r),H=i("text"),$=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),Et=i("preprendIcon"),mt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ot=V.element;g(ot),A(J,et);const Lt=_();v(mt,Et),ot.append(mt,$,J,Lt),document.body.appendChild(ot)}h?($.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){const s=vd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function i1(){return!e1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X_(){try{return typeof indexedDB=="object"}catch{return!1}}function Z_(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function a1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="FirebaseError";class Ia extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=s1,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?r1(h,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ia(o,g,r)}}function r1(s,e){return s.replace(l1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const l1=/\{\$([^}]+)}/g;function Jl(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Cy(h)&&Cy(d)){if(!Jl(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Cy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=1e3,u1=2,c1=14400*1e3,h1=.5;function Iy(s,e=o1,i=u1){const r=e*Math.pow(i,s),o=Math.round(h1*r*(Math.random()-.5)*2);return Math.min(c1,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(s){return s&&s._delegate?s._delegate:s}class xi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new K0;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m1(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d1(s){return s===fs?void 0:s}function m1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new f1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const p1={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},y1=xt.INFO,_1={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},v1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=_1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=y1,this._logHandler=v1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const E1=(s,e)=>e.some(i=>s instanceof i);let Dy,Ny;function T1(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A1(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,Xf=new WeakMap,J_=new WeakMap,Pf=new WeakMap,Ad=new WeakMap;function S1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ga(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&$_.set(i,s)}).catch(()=>{}),Ad.set(e,s),e}function b1(s){if(Xf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Xf.set(s,e)}let Zf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Xf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||J_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ga(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function R1(s){Zf=s(Zf)}function w1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(zf(this),e,...i);return J_.set(r,e.sort?e.sort():[e]),ga(r)}:A1().includes(s)?function(...e){return s.apply(zf(this),e),ga($_.get(this))}:function(...e){return ga(s.apply(zf(this),e))}}function C1(s){return typeof s=="function"?w1(s):(s instanceof IDBTransaction&&b1(s),E1(s,T1())?new Proxy(s,Zf):s)}function ga(s){if(s instanceof IDBRequest)return S1(s);if(Pf.has(s))return Pf.get(s);const e=C1(s);return e!==s&&(Pf.set(s,e),Ad.set(e,s)),e}const zf=s=>Ad.get(s);function W_(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=ga(d);return r&&d.addEventListener("upgradeneeded",v=>{r(ga(d.result),v.oldVersion,v.newVersion,ga(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const I1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],jf=new Map;function Vy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=D1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||I1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return jf.set(e,h),h}R1(s=>({...s,get:(e,i,r)=>Vy(e,i)||s.get(e,i,r),has:(e,i)=>!!Vy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(V1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function V1(s){return s.getComponent()?.type==="VERSION"}const $f="@firebase/app",My="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Td("@firebase/app"),M1="@firebase/app-compat",O1="@firebase/analytics-compat",x1="@firebase/analytics",U1="@firebase/app-check-compat",L1="@firebase/app-check",P1="@firebase/auth",z1="@firebase/auth-compat",j1="@firebase/database",k1="@firebase/data-connect",B1="@firebase/database-compat",q1="@firebase/functions",H1="@firebase/functions-compat",G1="@firebase/installations",F1="@firebase/installations-compat",Q1="@firebase/messaging",Y1="@firebase/messaging-compat",K1="@firebase/performance",X1="@firebase/performance-compat",Z1="@firebase/remote-config",$1="@firebase/remote-config-compat",J1="@firebase/storage",W1="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",aA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",sA={[$f]:"fire-core",[M1]:"fire-core-compat",[x1]:"fire-analytics",[O1]:"fire-analytics-compat",[L1]:"fire-app-check",[U1]:"fire-app-check-compat",[P1]:"fire-auth",[z1]:"fire-auth-compat",[j1]:"fire-rtdb",[k1]:"fire-data-connect",[B1]:"fire-rtdb-compat",[q1]:"fire-fn",[H1]:"fire-fn-compat",[G1]:"fire-iid",[F1]:"fire-iid-compat",[Q1]:"fire-fcm",[Y1]:"fire-fcm-compat",[K1]:"fire-perf",[X1]:"fire-perf-compat",[Z1]:"fire-rc",[$1]:"fire-rc-compat",[J1]:"fire-gcs",[W1]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,rA=new Map,Wf=new Map;function Oy(s,e){try{s.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ta(s){const e=s.name;if(Wf.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Wf.set(e,s);for(const i of $u.values())Oy(i,s);for(const i of rA.values())Oy(i,s);return!0}function ro(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function lA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new dc("app","Firebase",oA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=aA;function tv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Jf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw pa.create("bad-app-name",{appName:String(o)});if(i||(i=K_()),!i)throw pa.create("no-options");const h=$u.get(o);if(h){if(Jl(i,h.options)&&Jl(r,h.config))return h;throw pa.create("duplicate-app",{appName:o})}const d=new g1(o);for(const v of Wf.values())d.addComponent(v);const g=new uA(i,r,d);return $u.set(o,g),g}function ev(s=Jf){const e=$u.get(s);if(!e&&s===Jf&&K_())return tv();if(!e)throw pa.create("no-app",{appName:s});return e}function ei(s,e,i){let r=sA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}Ta(new xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebase-heartbeat-database",fA=1,Wl="firebase-heartbeat-store";let kf=null;function nv(){return kf||(kf=W_(hA,fA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Wl)}catch(i){console.warn(i)}}}}).catch(s=>{throw pa.create("idb-open",{originalErrorMessage:s.message})})),kf}async function dA(s){try{const i=(await nv()).transaction(Wl),r=await i.objectStore(Wl).get(iv(s));return await i.done,r}catch(e){if(e instanceof Ia)Ui.warn(e.message);else{const i=pa.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function xy(s,e){try{const r=(await nv()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,iv(s)),await r.done}catch(i){if(i instanceof Ia)Ui.warn(i.message);else{const r=pa.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(r.message)}}}function iv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1024,gA=30;class pA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _A(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>gA){const o=vA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uy(),{heartbeatsToSend:i,unsentEntries:r}=yA(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function yA(s,e=mA){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ly(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ly(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class _A{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X_()?Z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ly(s){return Zu(JSON.stringify({version:2,heartbeats:s})).length}function vA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(s){Ta(new xi("platform-logger",e=>new N1(e),"PRIVATE")),Ta(new xi("heartbeat",e=>new pA(e),"PRIVATE")),ei($f,My,s),ei($f,My,"esm2020"),ei("fire-js","")}EA("");var TA="firebase",AA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(TA,AA,"app");const av="@firebase/installations",Sd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=1e4,rv=`w:${Sd}`,lv="FIS_v2",SA="https://firebaseinstallations.googleapis.com/v1",bA=3600*1e3,RA="installations",wA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gs=new dc(RA,wA,CA);function ov(s){return s instanceof Ia&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv({projectId:s}){return`${SA}/projects/${s}/installations`}function cv(s){return{token:s.token,requestStatus:2,expiresIn:DA(s.expiresIn),creationTime:Date.now()}}async function hv(s,e){const r=(await e.json()).error;return gs.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fv({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function IA(s,{refreshToken:e}){const i=fv(s);return i.append("Authorization",NA(e)),i}async function dv(s){const e=await s();return e.status>=500&&e.status<600?s():e}function DA(s){return Number(s.replace("s","000"))}function NA(s){return`${lv} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=uv(s),o=fv(s),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:lv,appId:s.appId,sdkVersion:rv},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await dv(()=>fetch(r,g));if(v.ok){const _=await v.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:cv(_.authToken)}}else throw await hv("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=/^[cdef][\w-]{21}$/,td="";function xA(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=UA(s);return OA.test(i)?i:td}catch{return td}}function UA(s){return MA(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function pv(s,e){const i=mc(s);yv(i,e),LA(i,e)}function yv(s,e){const i=gv.get(s);if(i)for(const r of i)r(e)}function LA(s,e){const i=PA();i&&i.postMessage({key:s,fid:e}),zA()}let ds=null;function PA(){return!ds&&"BroadcastChannel"in self&&(ds=new BroadcastChannel("[Firebase] FID Change"),ds.onmessage=s=>{yv(s.data.key,s.data.fid)}),ds}function zA(){gv.size===0&&ds&&(ds.close(),ds=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebase-installations-database",kA=1,ps="firebase-installations-store";let Bf=null;function bd(){return Bf||(Bf=W_(jA,kA,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(ps)}}})),Bf}async function Ju(s,e){const i=mc(s),o=(await bd()).transaction(ps,"readwrite"),h=o.objectStore(ps),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&pv(s,e.fid),e}async function _v(s){const e=mc(s),r=(await bd()).transaction(ps,"readwrite");await r.objectStore(ps).delete(e),await r.done}async function gc(s,e){const i=mc(s),o=(await bd()).transaction(ps,"readwrite"),h=o.objectStore(ps),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&pv(s,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(s){let e;const i=await gc(s.appConfig,r=>{const o=BA(r),h=qA(s,o);return e=h.registrationPromise,h.installationEntry});return i.fid===td?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function BA(s){const e=s||{fid:xA(),registrationStatus:0};return vv(e)}function qA(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(gs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HA(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GA(s)}:{installationEntry:e}}async function HA(s,e){try{const i=await VA(s,e);return Ju(s.appConfig,i)}catch(i){throw ov(i)&&i.customData.serverCode===409?await _v(s.appConfig):await Ju(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function GA(s){let e=await Py(s.appConfig);for(;e.registrationStatus===1;)await mv(100),e=await Py(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Rd(s);return r||i}return e}function Py(s){return gc(s,e=>{if(!e)throw gs.create("installation-not-found");return vv(e)})}function vv(s){return FA(s)?{fid:s.fid,registrationStatus:0}:s}function FA(s){return s.registrationStatus===1&&s.registrationTime+sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA({appConfig:s,heartbeatServiceProvider:e},i){const r=YA(s,i),o=IA(s,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:rv,appId:s.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await dv(()=>fetch(r,g));if(v.ok){const _=await v.json();return cv(_)}else throw await hv("Generate Auth Token",v)}function YA(s,{fid:e}){return`${uv(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(s,e=!1){let i;const r=await gc(s.appConfig,h=>{if(!Ev(h))throw gs.create("not-registered");const d=h.authToken;if(!e&&ZA(d))return h;if(d.requestStatus===1)return i=KA(s,e),h;{if(!navigator.onLine)throw gs.create("app-offline");const g=JA(h);return i=XA(s,g),g}});return i?await i:r.authToken}async function KA(s,e){let i=await zy(s.appConfig);for(;i.authToken.requestStatus===1;)await mv(100),i=await zy(s.appConfig);const r=i.authToken;return r.requestStatus===0?wd(s,e):r}function zy(s){return gc(s,e=>{if(!Ev(e))throw gs.create("not-registered");const i=e.authToken;return WA(i)?{...e,authToken:{requestStatus:0}}:e})}async function XA(s,e){try{const i=await QA(s,e),r={...e,authToken:i};return await Ju(s.appConfig,r),i}catch(i){if(ov(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await _v(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ju(s.appConfig,r)}throw i}}function Ev(s){return s!==void 0&&s.registrationStatus===2}function ZA(s){return s.requestStatus===2&&!$A(s)}function $A(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+bA}function JA(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function WA(s){return s.requestStatus===1&&s.requestTime+sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(s){const e=s,{installationEntry:i,registrationPromise:r}=await Rd(e);return r?r.catch(console.error):wd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(s,e=!1){const i=s;return await nS(i),(await wd(i,e)).token}async function nS(s){const{registrationPromise:e}=await Rd(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(s){if(!s||!s.options)throw qf("App Configuration");if(!s.name)throw qf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw qf(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function qf(s){return gs.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="installations",aS="installations-internal",sS=s=>{const e=s.getProvider("app").getImmediate(),i=iS(e),r=ro(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rS=s=>{const e=s.getProvider("app").getImmediate(),i=ro(e,Tv).getImmediate();return{getId:()=>tS(i),getToken:o=>eS(i,o)}};function lS(){Ta(new xi(Tv,sS,"PUBLIC")),Ta(new xi(aS,rS,"PRIVATE"))}lS();ei(av,Sd);ei(av,Sd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="analytics",oS="firebase_id",uS="origin",cS=60*1e3,hS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new Td("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new dc("analytics","Analytics",fS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(s){if(!s.startsWith(Cd)){const e=dn.create("invalid-gtag-resource",{gtagURL:s});return nn.warn(e.message),""}return s}function Av(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function mS(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function gS(s,e){const i=mS("firebase-js-sdk-policy",{createScriptURL:dS}),r=document.createElement("script"),o=`${Cd}?l=${s}&id=${e}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function pS(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function yS(s,e,i,r,o,h){const d=r[o];try{if(d)await e[d];else{const v=(await Av(i)).find(_=>_.measurementId===o);v&&await e[v.appId]}}catch(g){nn.error(g)}s("config",o,h)}async function _S(s,e,i,r,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await Av(i);for(const v of d){const _=g.find(D=>D.measurementId===v),A=_&&e[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),s("event",r,o||{})}catch(h){nn.error(h)}}function vS(s,e,i,r){async function o(h,...d){try{if(h==="event"){const[g,v]=d;await _S(s,e,i,g,v)}else if(h==="config"){const[g,v]=d;await yS(s,e,i,r,g,v)}else if(h==="consent"){const[g,v]=d;s("consent",g,v)}else if(h==="get"){const[g,v,_]=d;s("get",g,v,_)}else if(h==="set"){const[g]=d;s("set",g)}else s(h,...d)}catch(g){nn.error(g)}}return o}function ES(s,e,i,r,o){let h=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=vS(h,s,e,i),{gtagCore:h,wrappedGtag:window[o]}}function TS(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Cd)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=30,SS=1e3;class bS{constructor(e={},i=SS){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Sv=new bS;function RS(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function wS(s){const{appId:e,apiKey:i}=s,r={method:"GET",headers:RS(i)},o=hS.replace("{app-id}",e),h=await fetch(o,r);if(h.status!==200&&h.status!==304){let d="";try{const g=await h.json();g.error?.message&&(d=g.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function CS(s,e=Sv,i){const{appId:r,apiKey:o,measurementId:h}=s.options;if(!r)throw dn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:r};throw dn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new NS;return setTimeout(async()=>{g.abort()},cS),bv({appId:r,apiKey:o,measurementId:h},d,g,e)}async function bv(s,{throttleEndTimeMillis:e,backoffCount:i},r,o=Sv){const{appId:h,measurementId:d}=s;try{await IS(r,e)}catch(g){if(d)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw g}try{const g=await wS(s);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!DS(v)){if(o.deleteThrottleMetadata(h),d)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:d};throw g}const _=Number(v?.customData?.httpStatus)===503?Iy(i,o.intervalMillis,AS):Iy(i,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return o.setThrottleMetadata(h,A),nn.debug(`Calling attemptFetch again in ${_} millis`),bv(s,A,r,o)}}function IS(s,e){return new Promise((i,r)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(h),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function DS(s){if(!(s instanceof Ia)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class NS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function VS(s,e,i,r,o){if(o&&o.global){s("event",i,r);return}else{const h=await e,d={...r,send_to:h};s("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(){if(X_())try{await Z_()}catch(s){return nn.warn(dn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return nn.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OS(s,e,i,r,o,h,d){const g=CS(s);g.then(V=>{i[V.measurementId]=V.appId,s.options.measurementId&&V.measurementId!==s.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>nn.error(V)),e.push(g);const v=MS().then(V=>{if(V)return r.getId()}),[_,A]=await Promise.all([g,v]);TS(h)||gS(h,_.measurementId),o("js",new Date);const D=d?.config??{};return D[uS]="firebase",D.update=!0,A!=null&&(D[oS]=A),o("config",_.measurementId,D),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},jy=[];const ky={};let Hf="dataLayer",US="gtag",By,Rv,qy=!1;function LS(){const s=[];if(n1()&&s.push("This is a browser extension environment."),a1()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=dn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function PS(s,e,i){LS();const r=s.options.appId;if(!r)throw dn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(Yl[r]!=null)throw dn.create("already-exists",{id:r});if(!qy){pS(Hf);const{wrappedGtag:h,gtagCore:d}=ES(Yl,jy,ky,Hf,US);Rv=h,By=d,qy=!0}return Yl[r]=OS(s,jy,ky,e,By,Hf,i),new xS(s)}function zS(s=ev()){s=Ea(s);const e=ro(s,Wu);return e.isInitialized()?e.getImmediate():jS(s)}function jS(s,e={}){const i=ro(s,Wu);if(i.isInitialized()){const o=i.getImmediate();if(Jl(e,i.getOptions()))return o;throw dn.create("already-initialized")}return i.initialize({options:e})}function kS(s,e,i,r){s=Ea(s),VS(Rv,Yl[s.app.options.appId],e,i,r).catch(o=>nn.error(o))}const Hy="@firebase/analytics",Gy="0.10.18";function BS(){Ta(new xi(Wu,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return PS(r,o,i)},"PUBLIC")),Ta(new xi("analytics-internal",s,"PRIVATE")),ei(Hy,Gy),ei(Hy,Gy,"esm2020");function s(e){try{const i=e.getProvider(Wu).getImmediate();return{logEvent:(r,o,h)=>kS(i,r,o,h)}}catch(i){throw dn.create("interop-component-reg-failed",{reason:i})}}}BS();var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,wv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,O,U){for(var w=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)w[Oe-2]=arguments[Oe];return S.prototype[O].apply(N,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)N[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],O=M.g[2];var U=M.g[3],w=S+(U^R&(O^U))+N[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+N[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+N[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+N[3]+3250441966&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(U^R&(O^U))+N[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+N[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+N[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+N[7]+4249261313&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(U^R&(O^U))+N[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+N[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+N[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+N[11]+2304563134&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(U^R&(O^U))+N[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+N[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+N[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+N[15]+1236535329&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(O^U&(R^O))+N[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+N[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+N[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+N[0]+3921069994&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(R^O))+N[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+N[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+N[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+N[4]+3889429448&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(R^O))+N[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+N[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+N[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+N[8]+1163531501&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(R^O))+N[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+N[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+N[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+N[12]+2368359562&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(R^O^U)+N[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+N[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+N[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+N[14]+4259657740&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^U)+N[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+N[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+N[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+N[10]+3200236656&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^U)+N[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+N[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+N[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+N[6]+76029189&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^U)+N[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+N[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+N[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+N[2]+3299628645&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(O^(R|~U))+N[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+N[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+N[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+N[5]+4237533241&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~U))+N[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+N[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+N[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+N[1]+2240044497&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~U))+N[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+N[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+N[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+N[13]+1309151649&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~U))+N[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+N[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+N[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+U&4294967295}r.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,N=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=R;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<S;)if(N[O++]=M.charCodeAt(U++),O==this.blockSize){o(this,N),O=0;break}}else for(;U<S;)if(N[O++]=M[U++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)M[R++]=this.g[S]>>>N&255;return M};function h(M,S){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function d(M,S){this.h=S;for(var R=[],N=!0,O=M.length-1;0<=O;O--){var U=M[O]|0;N&&U==S||(R[O]=U,N=!1)}this.g=R}var g={};function v(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return D;if(0>M)return J(_(-M));for(var S=[],R=1,N=0;M>=R;N++)S[N]=M/R|0,R*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return J(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(S,8)),N=D,O=0;O<M.length;O+=8){var U=Math.min(8,M.length-O),w=parseInt(M.substring(O,O+U),S);8>U?(U=_(Math.pow(S,U)),N=N.j(U).add(_(w))):(N=N.j(R),N=N.add(_(w)))}return N}var D=v(0),V=v(1),H=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-J(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(et(this))return"-"+J(this).toString(M);for(var S=_(Math.pow(M,6)),R=this,N="";;){var O=Lt(R,S).g;R=Et(R,O.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=O,$(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function et(M){return M.h==-1}s.l=function(M){return M=Et(this,M),et(M)?-1:$(M)?0:1};function J(M){for(var S=M.g.length,R=[],N=0;N<S;N++)R[N]=~M.g[N];return new d(R,~M.h).add(V)}s.abs=function(){return et(this)?J(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0,O=0;O<=S;O++){var U=N+(this.i(O)&65535)+(M.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);N=w>>>16,U&=65535,w&=65535,R[O]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Et(M,S){return M.add(J(S))}s.j=function(M){if($(this)||$(M))return D;if(et(this))return et(M)?J(this).j(J(M)):J(J(this).j(M));if(et(M))return J(this.j(J(M)));if(0>this.l(H)&&0>M.l(H))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<M.g.length;O++){var U=this.i(N)>>>16,w=this.i(N)&65535,Oe=M.i(O)>>>16,ae=M.i(O)&65535;R[2*N+2*O]+=w*ae,mt(R,2*N+2*O),R[2*N+2*O+1]+=U*ae,mt(R,2*N+2*O+1),R[2*N+2*O+1]+=w*Oe,mt(R,2*N+2*O+1),R[2*N+2*O+2]+=U*Oe,mt(R,2*N+2*O+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function mt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ot(M,S){this.g=M,this.h=S}function Lt(M,S){if($(S))throw Error("division by zero");if($(M))return new ot(D,D);if(et(M))return S=Lt(J(M),S),new ot(J(S.g),J(S.h));if(et(S))return S=Lt(M,J(S)),new ot(J(S.g),S.h);if(30<M.g.length){if(et(M)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var R=V,N=S;0>=N.l(M);)R=_t(R),N=_t(N);var O=Ut(R,1),U=Ut(N,1);for(N=Ut(N,2),R=Ut(R,2);!$(N);){var w=U.add(N);0>=w.l(M)&&(O=O.add(R),U=w),N=Ut(N,1),R=Ut(R,1)}return S=Et(M,O.j(S)),new ot(O,S)}for(O=D;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(R),w=U.j(S);et(w)||0<w.l(M);)R-=N,U=_(R),w=U.j(S);$(U)&&(U=V),O=O.add(U),M=Et(M,w)}return new ot(O,M)}s.A=function(M){return Lt(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&M.i(N);return new d(R,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|M.i(N);return new d(R,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^M.i(N);return new d(R,this.h^M.h)};function _t(M){for(var S=M.g.length+1,R=[],N=0;N<S;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new d(R,M.h)}function Ut(M,S){var R=S>>5;S%=32;for(var N=M.g.length-R,O=[],U=0;U<N;U++)O[U]=0<S?M.i(U+R)>>>S|M.i(U+R+1)<<32-S:M.i(U+R);return new d(O,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ya=d}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cv,Hl,Iv,Gu,ed,Dv,Nv,Vv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function V(u,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,V.apply(null,arguments)}function H(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)tt[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,tt)}}function et(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let tt=0;tt<q;tt++)u[L+tt]=T[tt]}else u.push(T)}}class Et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var _t=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function Ut(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<R.length;q++)p=R[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=ae.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new Et(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,zt=new Oe,C=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(Z)}};var Z=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function bt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Lt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}$(bt,W);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Pn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Na(u,m,T,L);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new Pn(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Da(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(zi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Na(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Or={};function mo(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)mo(u,m[q],p,T,L);return null}return p=go(p),u&&u[Re]?u.K(m,p,_(T)?!!T.capture:!1,L):mn(u,m,p,!1,T,L)}function mn(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,Nt=bs(u);if(Nt||(u[Va]=Nt=new li(u)),p=Nt.add(m,p,T,tt,q),p.proxy)return p;if(T=Nc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ht||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ma(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Nc(){function u(p){return m.call(u.src,u.listener,p)}const m=Vc;return u}function xr(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)xr(u,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=go(p),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Na(q,p,T,L),-1<p&&(zi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Na(m,p,T,L)),(p=-1<u?m[u]:null)&&Ss(p))}function Ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Da(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ma(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=bs(m))?(Da(p,u),p.h==0&&(p.src=null,m[Va]=null)):zi(u)}}}function Ma(u){return u in Or?Or[u]:Or[u]="on"+u}function Vc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Ss(u),u=p.call(T,m)}return u}function bs(u){return u=u[Va],u instanceof li?u:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(u){return typeof u=="function"?u:(u[Ur]||(u[Ur]=function(m){return u.handleEvent(m)}),u[Ur])}function se(){it.call(this),this.i=new li(this),this.M=this,this.F=null}$(se,it),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,p,T){xr(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(T,u),N(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];L=an(tt,T,!0,m)&&L}if(tt=m.g=u,L=an(tt,T,!0,m)&&L,L=an(tt,T,!1,m)&&L,p)for(q=0;q<p.length;q++)tt=m.g=p[q],L=an(tt,T,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)zi(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Nt=tt.listener,Ee=tt.ha||tt.src;tt.fa&&Da(u.i,tt),L=Nt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(u,m,p){if(typeof u=="function")p&&(u=V(u,p));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function po(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,po(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Mc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:po(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(u){it.call(this),this.h=u,this.g={}}$(Oa,it);var xa=[];function Ua(u){Ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ss(m)},u),u.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),Ua(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Rs=g.JSON.parse,La=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Lr(){}Lr.prototype.h=null;function Pr(u){return u.h||(u.h=u.i())}function zr(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){W.call(this,"d")}$(ui,W);function jr(){W.call(this,"c")}$(jr,W);var zn={},kr=null;function ji(){return kr=kr||new se}zn.La="serverreachability";function ws(u){W.call(this,zn.La,u)}$(ws,W);function ki(u){const m=ji();qt(m,new ws(m))}zn.STAT_EVENT="statevent";function yo(u,m){W.call(this,zn.STAT_EVENT,u),this.stat=m}$(yo,W);function te(u){const m=ji();qt(m,new yo(m,u))}zn.Ma="timingevent";function ve(u,m){W.call(this,zn.Ma,u),this.size=m}$(ve,W);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Br(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var tt="",Nt=q.split("&"),Ee=0;Ee<Nt.length;Ee++){var Vt=Nt[Ee].split("=");if(1<Vt.length){var Ce=Vt[0];Vt=Vt[1];var Te=Ce.split("_");tt=2<=Te.length&&Te[1]=="type"?tt+(Ce+"="+Vt+"&"):tt+(Ce+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Oc(u,m,p,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+tt})}function Bi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pa(u,p)+(T?" "+T:"")})}function _o(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Pa(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Dn(p)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function kn(){}$(kn,Lr),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},jn=new kn;function Ke(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var qr={},Cs={};function Nn(u,m,p){u.L=1,u.v=qa(sn(m)),u.m=p,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),za(u),u.A=sn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Kr(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=xo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Mc(V(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(xa[0]=L.toString()),L=xa);for(var q=0;q<L.length;q++){var tt=mo(p,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ki(),Br(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||Te!=4||m==7||(m==8||0>=vi?ki(3):ki(2)),Hi(this);var p=this.g.Z();this.X=p;e:if(vo(this)){var T=wo(this.g);u="";var L=T.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Bn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Oc(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,Ee=this.g;if((Nt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Nt)){var Vt=Nt;break e}}Vt=null}if(p=Vt)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,p);else{this.o=!1,this.s=3,te(12),xe(this),Bn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=Eo(this,tt),Ue==Cs){Te==4&&(this.s=4,te(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==qr){this.s=4,te(15),Bi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,Ue,null),ja(this,Ue);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||tt.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,tt,"[Invalid Chunked Response]"),xe(this),Bn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Za(Ce),Ce.M=!0,te(11))}}else Bi(this.i,this.l,tt,null),ja(this,tt);Te==4&&xe(this),this.o&&!this.J&&(Te==4?Vo(this.j,this):(this.o=!1,za(this)))}else zc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),xe(this),Bn(this)}}}catch{}finally{}};function vo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Eo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Cs:(p=Number(m.substring(p,T)),isNaN(p)?qr:(T+=1,T+p>m.length?Cs:(m=m.slice(T,T+p),u.C=T+p,m)))}Ke.prototype.cancel=function(){this.J=!0,xe(this)};function za(u){u.S=Date.now()+u.I,To(u,u.I)}function To(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(V(u.ba,u),m)}function Hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_o(this.i,this.A),this.L!=2&&(ki(),te(17)),xe(this),this.s=2,Bn(this)):To(this,this.S-u)};function Bn(u){u.j.G==0||u.J||Vo(u.j,u)}function xe(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ua(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ja(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Hr(p.h,u))){if(!u.K&&Hr(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)js(p),Ps(p);else break t;Wr(p),te(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(V(p.Za,p),6e3));if(1>=Ds(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((u.K||p.g==u)&&js(p),!mt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Vt=L[m];if(p.T=Vt[0],Vt=Vt[1],p.G==2)if(Vt[0]=="c"){p.K=Vt[1],p.ia=Vt[2];const Ce=Vt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Te=Vt[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const vi=Vt[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=u.g;if(Ue){const Kn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var q=T.h;q.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ns(q,q.h),q.h=null))}if(T.D){const el=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(T.ya=el,Ft(T.I,T.D,el))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Oo(T,T.J?T.ia:null,T.W),tt.K){Xe(T.h,tt);var Nt=tt,Ee=T.L;Ee&&(Nt.I=Ee),Nt.B&&(Hi(Nt),za(Nt)),T.g=tt}else Do(T);0<p.i.length&&zs(p)}else Vt[0]!="stop"&&Vt[0]!="close"||_i(p,7);else p.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?_i(p,7):$r(p):Vt[0]!="noop"&&p.l&&p.l.ta(Vt),p.v=0)}}ki(4)}catch{}}var Ao=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Is(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ds(u){return u.h?1:u.g?u.g.size:0}function Hr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ns(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gr(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return et(u.i)}function xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Vs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Vs(u),T=xc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Ba(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,p=new mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),di(this,p),this.m=u.m}else u&&(m=String(u).match(ka))?(this.h=!1,Ba(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Gi(this,m[4]),this.l=pn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ha(m,Qr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ha(m,Qr,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ha(p,p.charAt(0)=="/"?Lc:Yr,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ha(p,Ms)),u.join("")};function sn(u){return new de(u)}function Ba(u,m,p){u.j=p?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,p){m instanceof mi?(u.i=m,bo(u.i,u.h)):(p||(m=Ha(m,Pc)),u.i=new mi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function qa(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ha(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,So),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function So(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qr=/[#\/\?@]/g,Yr=/[#\?:]/g,Lc=/[#\?]/g,Pc=/[#\?@]/g,Ms=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Uc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=mi.prototype,s.add=function(u,m){yn(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function gi(u,m){yn(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return yn(u),m=qn(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},s.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},s.V=function(u){yn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return yn(this),this.i=null,u=qn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Kr(u,m,p){gi(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),et(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function bo(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(gi(this,T),Kr(this,L,p))},u)),u.j=m}function Ga(u,m){const p=new gn;if(g.Image){const T=new Image;T.onload=H(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=H(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new gn,T=new AbortController,L=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(p,"TestPingServer: error",!1,m)})}function _n(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Fa(){this.g=new La}function Hn(u,m,p){const T=p||"";try{Fr(u,function(L,q){let tt=L;_(L)&&(tt=Dn(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Fi,Lr),Fi.prototype.g=function(){return new yi(this.l,this.j)},Fi.prototype.i=(function(u){return function(){return u}})({});function yi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(yi,se),s=yi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xr(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xr(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&Xr(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},s.Qa=function(u){this.g&&(this.response=u,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zr(u){let m="";return Ut(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Zr(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function kt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,se);var Os=/^https?$/i,Qa=["POST","PUT"];s=kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Pr(this.o):Pr(jn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ro(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Qa,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Ro(this,q)}};function Ro(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xs(u),Qn(u)}function xs(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},s.bb=function(){Us(this)};function Us(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)qe(u.Ea,0,u);else if(qt(u,"readystatechange"),vn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(u.D).match(ka)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Os.test(L?L.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<vn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",xs(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Ya(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Ya(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rs(m)}};function wo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zc(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(mt(u[T]))continue;var p=O(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ls(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,u),this.cb=Ka("retryDelaySeedMs",1e4,u),this.Wa=Ka("forwardChannelMaxRetries",2,u),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new Fa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ls.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){te(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Oo(this,null,this.W),zs(this)};function $r(u){if(Co(u),u.G==3){var m=u.U++,p=sn(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Xa(u,p),m=new Ke(u,u.j,m),m.L=2,m.v=qa(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=xo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),za(m)}Mo(u)}function Ps(u){u.g&&(Za(u),u.g.cancel(),u.g=null)}function Co(u){Ps(u),u.u&&(g.clearTimeout(u.u),u.u=null),js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function zs(u){if(!Is(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),ut||(nt(),ut=!0),zt.add(m,u),u.B=0}}function jc(u,m){return Ds(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(V(u.Ga,u,m),tl(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ke(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Io(this,L,m),p=sn(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Xa(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Zr(q)))+"&"+m:this.m&&we(p,this.m,q)),Ns(this.h,L),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),L.T=!0,Nn(L,p,null)):Nn(L,p,m),this.G=2}}else this.G==3&&(u?Jr(this,u):this.i.length==0||Is(this.h)||Jr(this))};function Jr(u,m){var p;m?p=m.l:p=u.U++;const T=sn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Xa(u,T),u.m&&u.o&&we(T,u.m,u.o),p=new Ke(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Io(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ns(u.h,p),Nn(p,T,m)}function Xa(u,m){u.H&&Ut(u.H,function(p,T){Ft(m,T,p)}),u.l&&Fr({},function(p,T){Ft(m,T,p)})}function Io(u,m,p){p=Math.min(u.i.length,p);var T=u.l?V(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Nt=!0;for(let Ee=0;Ee<p;Ee++){let Vt=L[Ee].g;const Ce=L[Ee].map;if(Vt-=q,0>Vt)q=Math.max(0,L[Ee].g-100),Nt=!1;else try{Hn(Ce,tt,"req"+Vt+"_")}catch{T&&T(Ce)}}if(Nt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Do(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),ut||(nt(),ut=!0),zt.add(m,u),u.v=0}}function Wr(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(V(u.Fa,u),tl(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,No(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(V(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ps(this),No(this))};function Za(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function No(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Xa(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qa(sn(m)),p.m=null,p.P=!0,hi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Ps(this),Wr(this),te(19))};function js(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){js(u),Za(u),u.g=null;var T=2}else if(Hr(u.h,m))p=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=ji(),qt(T,new ve(T,p)),zs(u)}else Do(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&jc(u,m)||T==2&&Wr(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function tl(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var p=V(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ba(T,"https"),qa(T),L?Ga(T.toString(),p):Vn(T.toString(),p)}else te(2);u.G=0,u.l&&u.l.sa(m),Mo(u),Co(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Mo(u){if(u.G=0,u.ka=[],u.l){const m=Gr(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function Oo(u,m,p){var T=p instanceof de?sn(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new de(null);T&&Ba(q,T),m&&(q.g=m),L&&Gi(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Xa(u,T),T}function xo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Fi({eb:p})):new kt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}s=Uo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ks(){}ks.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){se.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!mt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}$(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){$r(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Dn(u),u=p);m.i.push(new Ao(m.Ya++,u)),m.G==3&&zs(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,Ze.aa.N.call(this)};function Lo(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Lo,ui);function Po(){jr.call(this),this.status=1}$(Po,jr);function Yn(u){this.g=u}$(Yn,Uo),Yn.prototype.ua=function(){qt(this.g,"a")},Yn.prototype.ta=function(u){qt(this.g,new Lo(u))},Yn.prototype.sa=function(u){qt(this.g,new Po)},Yn.prototype.ra=function(){qt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Vv=function(){return new ks},Nv=function(){return ji()},Dv=zn,ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Gu=qi,ci.COMPLETE="complete",Iv=ci,zr.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",se.prototype.listen=se.prototype.K,Hl=zr,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,Cv=kt}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Yy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Td("@firebase/firestore");function gr(){return ys.logLevel}function at(s,...e){if(ys.logLevel<=xt.DEBUG){const i=e.map(Id);ys.debug(`Firestore (${Ir}): ${s}`,...i)}}function Li(s,...e){if(ys.logLevel<=xt.ERROR){const i=e.map(Id);ys.error(`Firestore (${Ir}): ${s}`,...i)}}function Ar(s,...e){if(ys.logLevel<=xt.WARN){const i=e.map(Id);ys.warn(`Firestore (${Ir}): ${s}`,...i)}}function Id(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Mv(s,r,i)}function Mv(s,e,i){let r=`FIRESTORE (${Ir}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Li(r),new Error(r)}function Bt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||Mv(e,o,r)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ia{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class HS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class GS{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _a,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _a)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new Ov(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class FS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new FS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ky(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=KS(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function It(s,e){return s<e?-1:s>e?1:0}function nd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Gf(o)===Gf(h)?It(o,h):Gf(o)?1:-1}return It(s.length,e.length)}const XS=55296,ZS=57343;function Gf(s){const e=s.charCodeAt(0);return e>=XS&&e<=ZS}function Sr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&gt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const r=ti.isNumericId(e),o=ti.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class Jt extends ti{construct(e,i,r){return new Jt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const $S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ti{construct(e,i,r){return new ke(e,i,r)}static isValidIdentifier(e){return $S.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new ke([Xy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(h(),o++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Jt.fromString(e))}static fromName(e){return new ct(Jt.fromString(e).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(s,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function JS(s,e,i,r){if(e===!0&&r===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Zy(s){if(!ct.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $y(s){if(ct.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Uv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function pc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function tc(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pc(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e){const i={typeString:s};return e&&(i.value=e),i}function lo(s,e){if(!Uv(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,Wy=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Wy);return new Wt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:_e("string",Wt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Wt(0,0))}static max(){return new vt(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=-1;function WS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new Wt(i+1,0):new Wt(i,r));return new Aa(o,ct.empty(),e)}function tb(s){return new Aa(s.readTime,s.key,to)}class Aa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Aa(vt.min(),ct.empty(),to)}static max(){return new Aa(vt.max(),ct.empty(),to)}}function eb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:It(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ib{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dr(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==nb)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((o=>o?X.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function ab(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=-1;function _c(s){return s==null}function ec(s){return s===0&&1/s==-1/0}function sb(s){return typeof s=="number"&&Number.isInteger(s)&&!ec(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="";function rb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=t_(e)),e=lb(s.get(i),e);return t_(e)}function lb(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Lv:i+="";break;default:i+=h}}return i}function t_(s){return s+Lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Pv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new je(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Un([])}unionWith(e){let i=new be(ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new zv("Invalid base64 string: "+h):h}})(e);return new Be(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const ob=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(s){if(Bt(!!s,39018),typeof s=="string"){let e=0;const i=ob.exec(s);if(Bt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ba(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="server_timestamp",kv="__type__",Bv="__previous_value__",qv="__local_write_time__";function Vd(s){return(s?.mapValue?.fields||{})[kv]?.stringValue===jv}function vc(s){const e=s.mapValue.fields[Bv];return Vd(e)?vc(e):e}function eo(s){const e=Sa(s.mapValue.fields[qv].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,i,r,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const nc="(default)";class no{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="__type__",cb="__max__",ku={mapValue:{}},Gv="__vector__",ic="value";function Ra(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vd(s)?4:fb(s)?9007199254740991:hb(s)?10:11:gt(28295,{value:s})}function ri(s,e){if(s===e)return!0;const i=Ra(s);if(i!==Ra(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return eo(s).isEqual(eo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Sa(o.timestampValue),g=Sa(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return ba(o.bytesValue).isEqual(ba(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?ec(d)===ec(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Sr(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(e_(d)!==e_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ri(d[v],g[v])))return!1;return!0})(s,e);default:return gt(52216,{left:s})}}function io(s,e){return(s.values||[]).find((i=>ri(i,e)))!==void 0}function br(s,e){if(s===e)return 0;const i=Ra(s),r=Ra(e);if(i!==r)return It(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return i_(s.timestampValue,e.timestampValue);case 4:return i_(eo(s),eo(e));case 5:return nd(s.stringValue,e.stringValue);case 6:return(function(h,d){const g=ba(h),v=ba(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=It(g[_],v[_]);if(A!==0)return A}return It(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=It(he(h.latitude),he(d.latitude));return g!==0?g:It(he(h.longitude),he(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return a_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[ic]?.arrayValue,A=v[ic]?.arrayValue,D=It(_?.values?.length||0,A?.values?.length||0);return D!==0?D:a_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ku.mapValue&&d===ku.mapValue)return 0;if(h===ku.mapValue)return 1;if(d===ku.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const V=nd(v[D],A[D]);if(V!==0)return V;const H=br(g[v[D]],_[A[D]]);if(H!==0)return H}return It(v.length,A.length)})(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function i_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return It(s,e);const i=Sa(s),r=Sa(e),o=It(i.seconds,r.seconds);return o!==0?o:It(i.nanos,r.nanos)}function a_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=br(i[o],r[o]);if(h)return h}return It(i.length,r.length)}function Rr(s){return id(s)}function id(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Sa(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ba(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=id(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function Fu(s){switch(Ra(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vc(s);return e?16+Fu(e):16;case 5:return 2*s.stringValue.length;case 6:return ba(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Fu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return vs(r.fields,((h,d)=>{o+=h.length+Fu(d)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function s_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ad(s){return!!s&&"integerValue"in s}function Md(s){return!!s&&"arrayValue"in s}function r_(s){return!!s&&"nullValue"in s}function l_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qu(s){return!!s&&"mapValue"in s}function hb(s){return(s?.mapValue?.fields||{})[Hv]?.stringValue===Gv}function Kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vs(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(s.arrayValue.values[i]);return e}return{...s}}function fb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===cb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=ke.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Kl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){vs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Cn(Kl(this.value))}}function Fv(s){const e=[];return vs(s.fields,((i,r)=>{const o=new ke([i]);if(Qu(r)){const h=Fv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,r,o,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,vt.min(),vt.min(),vt.min(),Cn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ye(e,1,i,vt.min(),r,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,vt.min(),vt.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,vt.min(),vt.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.position=e,this.inclusive=i}}function o_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=br(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function u_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function db(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{}class ye extends Qv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new gb(e,i,r):i==="array-contains"?new _b(e,r):i==="in"?new vb(e,r):i==="not-in"?new Eb(e,r):i==="array-contains-any"?new Tb(e,r):new ye(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new pb(e,r):new yb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(br(i,this.value)):i!==null&&Ra(this.value)===Ra(i)&&this.matchesComparison(br(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Qv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ln(e,i)}matches(e){return Yv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yv(s){return s.op==="and"}function Kv(s){return mb(s)&&Yv(s)}function mb(s){for(const e of s.filters)if(e instanceof Ln)return!1;return!0}function sd(s){if(s instanceof ye)return s.field.canonicalString()+s.op.toString()+Rr(s.value);if(Kv(s))return s.filters.map((e=>sd(e))).join(",");{const e=s.filters.map((i=>sd(i))).join(",");return`${s.op}(${e})`}}function Xv(s,e){return s instanceof ye?(function(r,o){return o instanceof ye&&r.op===o.op&&r.field.isEqual(o.field)&&ri(r.value,o.value)})(s,e):s instanceof Ln?(function(r,o){return o instanceof Ln&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,g)=>h&&Xv(d,o.filters[g])),!0):!1})(s,e):void gt(19439)}function Zv(s){return s instanceof ye?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rr(i.value)}`})(s):s instanceof Ln?(function(i){return i.op.toString()+" {"+i.getFilters().map(Zv).join(" ,")+"}"})(s):"Filter"}class gb extends ye{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class pb extends ye{constructor(e,i){super(e,"in",i),this.keys=$v("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class yb extends ye{constructor(e,i){super(e,"not-in",i),this.keys=$v("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function $v(s,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class _b extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Md(i)&&io(i.arrayValue,this.value)}}class vb extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&io(this.value.arrayValue,i)}}class Eb extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!io(this.value.arrayValue,i)}}class Tb extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Md(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>io(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,i=null,r=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function c_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new Ab(s,e,i,r,o,h,d)}function Od(s){const e=Tt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>sd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),_c(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Rr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Rr(r))).join(",")),e.Te=i}return e.Te}function xd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!db(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Xv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!u_(s.startAt,e.startAt)&&u_(s.endAt,e.endAt)}function rd(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i=null,r=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sb(s,e,i,r,o,h,d,g){return new oo(s,e,i,r,o,h,d,g)}function Jv(s){return new oo(s)}function h_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Wv(s){return s.collectionGroup!==null}function Xl(s){const e=Tt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new sc(h,r))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new sc(ke.keyField(),r))}return e.Ie}function ni(s){const e=Tt(s);return e.Ee||(e.Ee=bb(e,Xl(s))),e.Ee}function bb(s,e){if(s.limitType==="F")return c_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new sc(o.field,h)}));const i=s.endAt?new ac(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ac(s.startAt.position,s.startAt.inclusive):null;return c_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function ld(s,e){const i=s.filters.concat([e]);return new oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function od(s,e,i){return new oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ec(s,e){return xd(ni(s),ni(e))&&s.limitType===e.limitType}function tE(s){return`${Od(ni(s))}|lt:${s.limitType}`}function pr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Zv(o))).join(", ")}]`),_c(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Rr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Rr(o))).join(",")),`Target(${r})`})(ni(s))}; limitType=${s.limitType})`}function Tc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Xl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,v){const _=o_(d,g,v);return d.inclusive?_<=0:_<0})(r.startAt,Xl(r),o)||r.endAt&&!(function(d,g,v){const _=o_(d,g,v);return d.inclusive?_>=0:_>0})(r.endAt,Xl(r),o))})(s,e)}function Rb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function eE(s){return(e,i)=>{let r=!1;for(const o of Xl(s)){const h=wb(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function wb(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?br(v,_):gt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return Pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new ie(ct.comparator);function Pi(){return Cb}const nE=new ie(ct.comparator);function Gl(...s){let e=nE;for(const i of s)e=e.insert(i.key,i);return e}function iE(s){let e=nE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ms(){return Zl()}function aE(){return Zl()}function Zl(){return new Es((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Ib=new ie(ct.comparator),Db=new be(ct.comparator);function Dt(...s){let e=Db;for(const i of s)e=e.add(i);return e}const Nb=new be(It);function Vb(){return Nb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function sE(s){return{integerValue:""+s}}function Mb(s,e){return sb(e)?sE(e):Ud(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function Ob(s,e,i){return s instanceof rc?(function(o,h){const d={fields:{[kv]:{stringValue:jv},[qv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Vd(h)&&(h=vc(h)),h&&(d.fields[Bv]=h),{mapValue:d}})(i,e):s instanceof ao?lE(s,e):s instanceof so?oE(s,e):(function(o,h){const d=rE(o,h),g=f_(d)+f_(o.Ae);return ad(d)&&ad(o.Ae)?sE(g):Ud(o.serializer,g)})(s,e)}function xb(s,e,i){return s instanceof ao?lE(s,e):s instanceof so?oE(s,e):i}function rE(s,e){return s instanceof lc?(function(r){return ad(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class rc extends Ac{}class ao extends Ac{constructor(e){super(),this.elements=e}}function lE(s,e){const i=uE(e);for(const r of s.elements)i.some((o=>ri(o,r)))||i.push(r);return{arrayValue:{values:i}}}class so extends Ac{constructor(e){super(),this.elements=e}}function oE(s,e){let i=uE(e);for(const r of s.elements)i=i.filter((o=>!ri(o,r)));return{arrayValue:{values:i}}}class lc extends Ac{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f_(s){return he(s.integerValue||s.doubleValue)}function uE(s){return Md(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Ub(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ao&&o instanceof ao||r instanceof so&&o instanceof so?Sr(r.elements,o.elements,ri):r instanceof lc&&o instanceof lc?ri(r.Ae,o.Ae):r instanceof rc&&o instanceof rc})(s.transform,e.transform)}class Lb{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sc{}function cE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new fE(s.key,Oi.none()):new uo(s.key,s.data,Oi.none());{const i=s.data,r=Cn.empty();let o=new be(ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ts(s.key,r,new Un(o.toArray()),Oi.none())}}function Pb(s,e,i){s instanceof uo?(function(o,h,d){const g=o.value.clone(),v=m_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Ts?(function(o,h,d){if(!Yu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=m_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(hE(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function $l(s,e,i,r){return s instanceof uo?(function(h,d,g,v){if(!Yu(h.precondition,d))return g;const _=h.value.clone(),A=g_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ts?(function(h,d,g,v){if(!Yu(h.precondition,d))return g;const _=g_(h.fieldTransforms,v,d),A=d.data;return A.setAll(hE(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((D=>D.field)))})(s,e,i,r):(function(h,d,g){return Yu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function zb(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=rE(r.transform,o||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(r.field,h))}return i||null}function d_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Sr(r,o,((h,d)=>Ub(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uo extends Sc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends Sc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function m_(s,e,i){const r=new Map;Bt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);r.set(h.field,xb(d,g,i[o]))}return r}function g_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Ob(h,d,e))}return r}class fE extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jb extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Pb(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=$l(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=$l(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=aE();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=cE(d,g);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,((i,r)=>d_(i,r)))&&Sr(this.baseMutations,e.baseMutations,((i,r)=>d_(i,r)))}}class Ld{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return Ib})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Ld(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ot;function Hb(s){switch(s){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function dE(s){if(s===void 0)return Li("GRPC error has no .code"),K.UNKNOWN;switch(s){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:s})}}(Ot=pe||(pe={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new ya([4294967295,4294967295],0);function p_(s){const e=Gb().encode(s),i=new wv;return i.update(e),new Uint8Array(i.digest())}function y_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ya([i,r],0),new ya([o,h],0)]}class Pd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(r<0)throw new Fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ya.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ya.fromNumber(r)));return o.compare(Fb)===1&&(o=new ya([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=p_(e),[r,o]=y_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Pd(h,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=p_(e),[r,o]=y_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new bc(vt.min(),o,new ie(It),Pi(),Dt())}}class co{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new co(r,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class mE{constructor(e,i){this.targetId=e,this.Ce=i}}class gE{constructor(e,i,r=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class __{constructor(){this.ve=0,this.Fe=v_(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),i=Dt(),r=Dt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:gt(38017,{changeType:h})}})),new co(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=v_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ie(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(rd(h))if(r===0){const d=new ct(h.path);this.et(i,d,Ye.newNoDocument(d,vt.min()))}else Bt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=ba(r).toUint8Array()}catch(v){if(v instanceof zv)return Ar("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Pd(d,o,h)}catch(v){return Ar(v instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&rd(g.target)){const v=new ct(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Dt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new bc(e,i,this.Ye,this.je,r);return this.je=Pi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ie(It),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new __,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new be(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new be(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new __),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bu(){return new ie(ct.comparator)}function v_(){return new ie(ct.comparator)}const Yb={asc:"ASCENDING",desc:"DESCENDING"},Kb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xb={and:"AND",or:"OR"};class Zb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ud(s,e){return s.useProto3Json||_c(e)?e:{value:e}}function oc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $b(s,e){return oc(s,e.toTimestamp())}function ii(s){return Bt(!!s,49232),vt.fromTimestamp((function(i){const r=Sa(i);return new Wt(r.seconds,r.nanos)})(s))}function zd(s,e){return cd(s,e).canonicalString()}function cd(s,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function yE(s){const e=Jt.fromString(s);return Bt(AE(e),10190,{key:e.toString()}),e}function hd(s,e){return zd(s.databaseId,e.path)}function Ff(s,e){const i=yE(e);if(i.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(vE(i))}function _E(s,e){return zd(s.databaseId,e)}function Jb(s){const e=yE(s);return e.length===4?Jt.emptyPath():vE(e)}function fd(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function vE(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function E_(s,e,i){return{name:hd(s,e),fields:i.value.mapValue.fields}}function Wb(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:dE(_.code);return new st(A,_.message||"")})(d);i=new gE(r,o,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ff(s,r.document.name),h=ii(r.document.updateTime),d=r.document.createTime?ii(r.document.createTime):vt.min(),g=new Cn({mapValue:{fields:r.document.fields}}),v=Ye.newFoundDocument(o,h,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Ku(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ff(s,r.document),h=r.readTime?ii(r.readTime):vt.min(),d=Ye.newNoDocument(o,h),g=r.removedTargetIds||[];i=new Ku([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ff(s,r.document),h=r.removedTargetIds||[];i=new Ku([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new qb(o,h),g=r.targetId;i=new mE(g,d)}}return i}function tR(s,e){let i;if(e instanceof uo)i={update:E_(s,e.key,e.value)};else if(e instanceof fE)i={delete:hd(s,e.key)};else if(e instanceof Ts)i={update:E_(s,e.key,e.data),updateMask:uR(e.fieldMask)};else{if(!(e instanceof jb))return gt(16599,{Vt:e.type});i={verify:hd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const g=d.transform;if(g instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof lc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:$b(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(s,e.precondition)),i}function eR(s,e){return s&&s.length>0?(Bt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(vt.min())&&(d=ii(h)),new Lb(d,o.transformResults||[])})(i,e)))):[]}function nR(s,e){return{documents:[_E(s,e.path)]}}function iR(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=_E(s,o);const h=(function(_){if(_.length!==0)return TE(Ln.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:yr(V.field),direction:rR(V.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ud(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function aR(s){let e=Jb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Bt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(D){const V=EE(D);return V instanceof Ln&&Kv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(D){return D.map((V=>(function($){return new sc(_r($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(D){let V;return V=typeof D=="object"?D.value:D,_c(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(D){const V=!!D.before,H=D.values||[];return new ac(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(D){const V=!D.before,H=D.values||[];return new ac(H,V)})(i.endAt)),Sb(e,o,d,h,g,"F",v,_)}function sR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function EE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=_r(i.unaryFilter.field);return ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_r(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_r(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_r(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ye.create(_r(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ln.create(i.compositeFilter.filters.map((r=>EE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function rR(s){return Yb[s]}function lR(s){return Kb[s]}function oR(s){return Xb[s]}function yr(s){return{fieldPath:s.canonicalString()}}function _r(s){return ke.fromServerFormat(s.fieldPath)}function TE(s){return s instanceof ye?(function(i){if(i.op==="=="){if(l_(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NAN"}};if(r_(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l_(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NAN"}};if(r_(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(i.field),op:lR(i.op),value:i.value}}})(s):s instanceof Ln?(function(i){const r=i.getFilters().map((o=>TE(o)));return r.length===1?r[0]:{compositeFilter:{op:oR(i.op),filters:r}}})(s):gt(54877,{filter:s})}function uR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function AE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i,r,o,h=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.yt=e}}function hR(s){const e=aR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?od(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.Cn=new dR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Aa.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class dR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new be(Jt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(SE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wr(0)}static cr(){return new wr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",mR=1048576;function S_([s,e],[i,r]){const o=It(s,i);return o===0?It(e,r):o}class gR{constructor(e){this.Ir=e,this.buffer=new be(S_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();S_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(A_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nr(i)?at(A_,"Ignoring IndexedDB error during garbage collection: ",i):await Dr(i)}await this.Vr(3e5)}))}}class yR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(yc.ce);const r=new gR(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(T_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,d=Date.now(),this.nthSequenceNumber(e,o)))).next((D=>(r=D,g=Date.now(),this.removeTargets(e,r,i)))).next((D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((D=>(_=Date.now(),gr()<=xt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:D}))))}}function _R(s,e){return new yR(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.changes=new Es((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&$l(r.mutation,o,Un.empty(),Wt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Dt()){const o=ms();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Gl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ms();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Dt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let h=Pi();const d=Zl(),g=(function(){return Zl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ts)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),$l(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):d.set(_.key,Un.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new ER(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Zl();let o=new ie(((d,g)=>d-g)),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Un.empty();A=g.applyToLocalView(_,A),r.set(v,A);const D=(o.get(g.batchId)||Dt()).add(v);o=o.insert(g.batchId,D)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,D=aE();A.forEach((V=>{if(!h.has(V)){const H=cE(i.get(V),r.get(V));H!==null&&D.set(V,H),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Wv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):X.resolve(ms());let g=to,v=h;return d.next((_=>X.forEach(_,((A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Dt()))).next((A=>({batchId:g,changes:iE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((r=>{let o=Gl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(e,h).next((g=>X.forEach(g,(v=>{const _=(function(D,V){return new oo(V,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((D,V)=>{d=d.insert(D,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let g=Gl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&$l(A.mutation,_,Un.empty(),Wt.now()),Tc(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:hR(o.bundledQuery),readTime:ii(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.overlays=new ie(ct.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ms();return X.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const o=ms(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ie(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=ms(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ms(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return X.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Bb(i,r));let h=this.qr.get(i);h===void 0&&(h=Dt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Qr=new be(Ve.$r),this.Ur=new be(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ve(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ve(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ct(new Jt([])),r=new Ve(i,e),o=new Ve(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new Jt([])),r=new Ve(i,e),o=new Ve(i,e+1);let h=Dt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ve(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new be(Ve.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kb(h,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Nd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new be(It);return i.forEach((o=>{const h=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{r=r.add(g.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ct(h),0);let g=new be(It);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(o=>{const h=new Ve(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ve(i,0),o=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.ri=e,this.docs=(function(){return new ie(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let r=Pi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Pi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||eb(tb(A),r)<=0||(o.has(A.key)||Tc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,r,o){gt(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new CR(this)}getSize(e){return X.resolve(this.size)}}class CR extends vR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.persistence=e,this.si=new Es((i=>Od(i)),xd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new jd,this.targetCount=0,this.ai=wr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(h).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yc(0),this.li=!1,this.li=!0,this.hi=new bR,this.referenceDelegate=e(this),this.Pi=new IR(this),this.indexManager=new fR,this.remoteDocumentCache=(function(o){return new wR(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cR(i),this.Ii=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new SR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new RR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){at("MemoryPersistence","Starting transaction:",e);const o=new DR(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class DR extends ib{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Ri=new jd,this.Vi=null}static mi(e){return new kd(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const o=ct.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.pi=new Es((r=>rb(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=_R(this,i)}static mi(e,i){return new uc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?X.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Dt(),o=Dt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Bd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return i1()?8:ab(t1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new NR;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(gr()<=xt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",pr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(gr()<=xt.DEBUG&&at("QueryEngine","Query:",pr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(gr()<=xt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",pr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):X.resolve())}ys(e,i){if(h_(i))return X.resolve(null);let r=ni(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=od(i,null,"F"),r=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Dt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,od(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return h_(i)||o.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?X.resolve(null):(gr()<=xt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pr(i)),this.vs(e,d,i,WS(o,to)).next((g=>g)))}))}Ds(e,i){let r=new be(eE(e));return i.forEach(((o,h)=>{Tc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return gr()<=xt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",pr(i)),this.ps.getDocumentsMatchingQuery(e,i,Aa.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="LocalStore",MR=3e8;class OR{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ie(It),this.xs=new Es((h=>Od(h)),xd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function xR(s,e,i,r){return new OR(s,e,i,r)}async function RE(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],g=[];let v=Dt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function UR(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const D=_.batch,V=D.keys();let H=X.resolve();return V.forEach(($=>{H=H.next((()=>A.getEntry(v,$))).next((et=>{const J=_.docVersions.get($);Bt(J!==null,48541),et.version.compareTo(J)<0&&(D.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(v,D)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=Dt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function wE(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function LR(s,e){const i=Tt(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,D)=>{const V=o.get(D);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D))));let H=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,r)),o=o.insert(D,H),(function(et,J,Et){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=MR?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0})(V,H,A)&&g.push(i.Pi.updateTargetData(h,H))}));let v=Pi(),_=Dt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(PR(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));g.push(A)}return X.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function PR(s,e,i){let r=Dt(),o=Dt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Pi();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):at(qd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function zR(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jR(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,X.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new ma(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function dd(s,e,i){const r=Tt(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Nr(d))throw d;at(qd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function b_(s,e,i){const r=Tt(s);let o=vt.min(),h=Dt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const D=Tt(v),V=D.xs.get(A);return V!==void 0?X.resolve(D.Ms.get(V)):D.Pi.getTargetData(_,A)})(r,d,ni(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?h:Dt()))).next((g=>(kR(r,Rb(e),g),{documents:g,Qs:h})))))}function kR(s,e,i){let r=s.Os.get(e)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class R_{constructor(){this.activeTargetIds=Vb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(){this.Mo=new R_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(w_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function md(){return qu===null?qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="RestConnection",HR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===nc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=md(),g=this.zo(e,i.toUriEncodedString());at(Qf,`Sending RPC '${e}' ${d}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),A=Ed(_);return this.Jo(e,g,v,r,A).then((D=>(at(Qf,`Received RPC '${e}' ${d}: `,D),D)),(D=>{throw Ar(Qf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",r),D}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ir})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=HR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class QR extends GR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=md();return new Promise(((g,v)=>{const _=new Cv;_.setWithCredentials(!0),_.listenOnce(Iv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Gu.NO_ERROR:const D=_.getResponseJson();at(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case Gu.TIMEOUT:at(Fe,`RPC '${e}' ${d} timed out`),v(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const V=_.getStatus();if(at(Fe,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H?.error;if($&&$.status&&$.message){const et=(function(Et){const mt=Et.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(mt)>=0?mt:K.UNKNOWN})($.status);v(new st(et,$.message))}else v(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=md(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Vv(),g=Nv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const D=d.createWebChannel(A,v);this.I_(D);let V=!1,H=!1;const $=new FR({Yo:J=>{H?at(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(V||(at(Fe,`Opening RPC '${e}' stream ${o} transport.`),D.open(),V=!0),at(Fe,`RPC '${e}' stream ${o} sending:`,J),D.send(J))},Zo:()=>D.close()}),et=(J,Et,mt)=>{J.listen(Et,(ot=>{try{mt(ot)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return et(D,Hl.EventType.OPEN,(()=>{H||(at(Fe,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),et(D,Hl.EventType.CLOSE,(()=>{H||(H=!0,at(Fe,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(D))})),et(D,Hl.EventType.ERROR,(J=>{H||(H=!0,Ar(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))})),et(D,Hl.EventType.MESSAGE,(J=>{if(!H){const Et=J.data[0];Bt(!!Et,16349);const mt=Et,ot=mt?.error||mt[0]?.error;if(ot){at(Fe,`RPC '${e}' stream ${o} received error:`,ot);const Lt=ot.status;let _t=(function(S){const R=pe[S];if(R!==void 0)return dE(R)})(Lt),Ut=ot.message;_t===void 0&&(_t=K.INTERNAL,Ut="Unknown error status: "+Lt+" with message "+ot.message),H=!0,$.a_(new st(_t,Ut)),D.close()}else at(Fe,`RPC '${e}' stream ${o} received:`,Et),$.u_(Et)}})),et(g,Dv.STAT_EVENT,(J=>{J.stat===ed.PROXY?at(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===ed.NOPROXY&&at(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(s){return new Zb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class IE{constructor(e,i,r,o,h,d,g,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new st(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YR extends IE{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Wb(this.serializer,e),r=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ii(d.readTime):vt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=fd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=rd(v)?{documents:nR(h,v)}:{query:iR(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=pE(h,d.resumeToken);const _=ud(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=oc(h,d.snapshotVersion.toTimestamp());const _=ud(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=sR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=fd(this.serializer),i.removeTarget=e,this.q_(i)}}class KR extends IE{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=eR(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=fd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>tR(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{}class ZR extends XR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,cd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,cd(i,r),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $R{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class JR{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{As(this)&&(at(_s,"Restarting streams for network reachability change."),await(async function(v){const _=Tt(v);_.Ea.add(4),await ho(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wc(_)})(this))}))})),this.Ra=new $R(r,o)}}async function wc(s){if(As(s))for(const e of s.da)await e(!0)}async function ho(s){for(const e of s.da)await e(!1)}function DE(s,e){const i=Tt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Qd(i)?Fd(i):Vr(i).O_()&&Gd(i,e))}function Hd(s,e){const i=Tt(s),r=Vr(i);i.Ia.delete(e),r.O_()&&NE(i,e),i.Ia.size===0&&(r.O_()?r.L_():As(i)&&i.Ra.set("Unknown"))}function Gd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vr(s).Y_(e)}function NE(s,e){s.Va.Ue(e),Vr(s).Z_(e)}function Fd(s){s.Va=new Qb({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vr(s).start(),s.Ra.ua()}function Qd(s){return As(s)&&!Vr(s).x_()&&s.Ia.size>0}function As(s){return Tt(s).Ea.size===0}function VE(s){s.Va=void 0}async function WR(s){s.Ra.set("Online")}async function tw(s){s.Ia.forEach(((e,i)=>{Gd(s,e)}))}async function ew(s,e){VE(s),Qd(s)?(s.Ra.ha(e),Fd(s)):s.Ra.set("Unknown")}async function nw(s,e,i){if(s.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(r){at(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cc(s,r)}else if(e instanceof Ku?s.Va.Ze(e):e instanceof mE?s.Va.st(e):s.Va.tt(e),!i.isEqual(vt.min()))try{const r=await wE(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),NE(h,v);const D=new ma(A.target,v,_,A.sequenceNumber);Gd(h,D)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(_s,"Failed to raise snapshot:",r),await cc(s,r)}}async function cc(s,e,i){if(!Nr(e))throw e;s.Ea.add(1),await ho(s),s.Ra.set("Offline"),i||(i=()=>wE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(_s,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wc(s)}))}function ME(s,e){return e().catch((i=>cc(s,i,e)))}async function Cc(s){const e=Tt(s),i=wa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nd;for(;iw(e);)try{const o=await zR(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,aw(e,o)}catch(o){await cc(e,o)}OE(e)&&xE(e)}function iw(s){return As(s)&&s.Ta.length<10}function aw(s,e){s.Ta.push(e);const i=wa(s);i.O_()&&i.X_&&i.ea(e.mutations)}function OE(s){return As(s)&&!wa(s).x_()&&s.Ta.length>0}function xE(s){wa(s).start()}async function sw(s){wa(s).ra()}async function rw(s){const e=wa(s);for(const i of s.Ta)e.ea(i.mutations)}async function lw(s,e,i){const r=s.Ta.shift(),o=Ld.from(r,e,i);await ME(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Cc(s)}async function ow(s,e){e&&wa(s).X_&&await(async function(r,o){if((function(d){return Hb(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();wa(r).B_(),await ME(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Cc(r)}})(s,e),OE(s)&&xE(s)}async function D_(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),at(_s,"RemoteStore received new credentials");const r=As(i);i.Ea.add(3),await ho(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wc(i)}async function uw(s,e){const i=Tt(s);e?(i.Ea.delete(2),await wc(i)):e||(i.Ea.add(2),await ho(i),i.Ra.set("Unknown"))}function Vr(s){return s.ma||(s.ma=(function(i,r,o){const h=Tt(i);return h.sa(),new YR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:WR.bind(null,s),t_:tw.bind(null,s),r_:ew.bind(null,s),H_:nw.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Qd(s)?Fd(s):s.Ra.set("Unknown")):(await s.ma.stop(),VE(s))}))),s.ma}function wa(s){return s.fa||(s.fa=(function(i,r,o){const h=Tt(i);return h.sa(),new KR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:sw.bind(null,s),r_:ow.bind(null,s),ta:rw.bind(null,s),na:lw.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Cc(s)):(await s.fa.stop(),s.Ta.length>0&&(at(_s,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,g=new Yd(e,i,d,o,h);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kd(s,e){if(Li("AsyncQueue",`${e}: ${s}`),Nr(s))return new st(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{static emptySet(e){return new vr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=Gl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new vr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.ga=new ie(ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Cr{constructor(e,i,r,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Cr(e,i,vr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hw{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Tt(i),h=o.queries;o.queries=V_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new st(K.ABORTED,"Firestore shutting down"))}}function V_(){return new Es((s=>tE(s)),Ec)}async function fw(s,e){const i=Tt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new cw,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Kd(d,`Initialization of query '${pr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Xd(i)}async function dw(s,e){const i=Tt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function mw(s,e){const i=Tt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&Xd(i)}function gw(s,e,i){const r=Tt(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Xd(s){s.Ca.forEach((e=>{e.next()}))}var gd,M_;(M_=gd||(gd={})).Ma="default",M_.Cache="cache";class pw{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Cr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class yw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=eE(e),this.tu=new vr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new N_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,D)=>{const V=o.get(A),H=Tc(this.query,D)?D:null,$=!!V&&this.mutatedKeys.has(V.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;V&&H?V.data.isEqual(H.data)?$!==et&&(r.track({type:3,doc:H}),J=!0):this.su(V,H)||(r.track({type:2,doc:H}),J=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(g=!0)):!V&&H?(r.track({type:0,doc:H}),J=!0):V&&!H&&(r.track({type:1,doc:V}),J=!0,(v||_)&&(g=!0)),J&&(H?(d=d.add(H),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,D)=>(function(H,$){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return et(H)-et($)})(A.type,D.type)||this.eu(A.doc,D.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Cr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new LE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new UE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Dt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zd="SyncEngine";class _w{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class vw{constructor(e){this.key=e,this.hu=!1}}class Ew{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Es((g=>tE(g)),Ec),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ct.comparator),this.Au=new Map,this.Ru=new jd,this.Vu={},this.mu=new Map,this.fu=wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tw(s,e,i=!0){const r=qE(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await PE(r,e,i,!0),o}async function Aw(s,e){const i=qE(s);await PE(i,e,!0,!1)}async function PE(s,e,i,r){const o=await jR(s.localStore,ni(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await Sw(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&DE(s.remoteStore,o),g}async function Sw(s,e,i,r,o){s.pu=(D,V,H)=>(async function(et,J,Et,mt){let ot=J.view.ru(Et);ot.Cs&&(ot=await b_(et.localStore,J.query,!1).then((({documents:M})=>J.view.ru(M,ot))));const Lt=mt&&mt.targetChanges.get(J.targetId),_t=mt&&mt.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(ot,et.isPrimaryClient,Lt,_t);return x_(et,J.targetId,Ut.au),Ut.snapshot})(s,D,V,H);const h=await b_(s.localStore,e,!0),d=new yw(e,h.Qs),g=d.ru(h.documents),v=co.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,v);x_(s,i,_.au);const A=new _w(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function bw(s,e,i){const r=Tt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Ec(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await dd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Hd(r.remoteStore,o.targetId),pd(r,o.targetId)})).catch(Dr)):(pd(r,o.targetId),await dd(r.localStore,o.targetId,!0))}async function Rw(s,e){const i=Tt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Hd(i.remoteStore,r.targetId))}async function ww(s,e,i){const r=Ow(s);try{const o=await(function(d,g){const v=Tt(d),_=Wt.now(),A=g.reduce(((H,$)=>H.add($.key)),Dt());let D,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let $=Pi(),et=Dt();return v.Ns.getEntries(H,A).next((J=>{$=J,$.forEach(((Et,mt)=>{mt.isValidDocument()||(et=et.add(Et))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,$))).next((J=>{D=J;const Et=[];for(const mt of g){const ot=zb(mt,D.get(mt.key).overlayedDocument);ot!=null&&Et.push(new Ts(mt.key,ot,Fv(ot.value.mapValue),Oi.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,Et,g)})).next((J=>{V=J;const Et=J.applyToLocalDocumentSet(D,et);return v.documentOverlayCache.saveOverlays(H,J.batchId,Et)}))})).then((()=>({batchId:V.batchId,changes:iE(D)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ie(It)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await fo(r,o.changes),await Cc(r.remoteStore)}catch(o){const h=Kd(o,"Failed to persist write");i.reject(h)}}async function zE(s,e){const i=Tt(s);try{const r=await LR(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Bt(d.hu,14607):o.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await fo(i,r,e)}catch(r){await Dr(r)}}function O_(s,e,i){const r=Tt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,D)=>{for(const V of D.Sa)V.va(g)&&(_=!0)})),_&&Xd(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cw(s,e,i){const r=Tt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ie(ct.comparator);d=d.insert(h,Ye.newNoDocument(h,vt.min()));const g=Dt().add(h),v=new bc(vt.min(),new Map,new ie(It),d,g);await zE(r,v),r.du=r.du.remove(h),r.Au.delete(e),$d(r)}else await dd(r.localStore,e,!1).then((()=>pd(r,e,i))).catch(Dr)}async function Iw(s,e){const i=Tt(s),r=e.batch.batchId;try{const o=await UR(i.localStore,e);kE(i,r,null),jE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await fo(i,o)}catch(o){await Dr(o)}}async function Dw(s,e,i){const r=Tt(s);try{const o=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((D=>(Bt(D!==null,37113),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);kE(r,e,i),jE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await fo(r,o)}catch(o){await Dr(o)}}function jE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function kE(s,e,i){const r=Tt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function pd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||BE(s,r)}))}function BE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Hd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),$d(s))}function x_(s,e,i){for(const r of i)r instanceof UE?(s.Ru.addReference(r.key,e),Nw(s,r)):r instanceof LE?(at(Zd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||BE(s,r.key)):gt(19791,{wu:r})}function Nw(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(Zd,"New document in limbo: "+i),s.Eu.add(r),$d(s))}function $d(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(Jt.fromString(e)),r=s.fu.next();s.Au.set(r,new vw(i)),s.du=s.du.insert(i,r),DE(s.remoteStore,new ma(ni(Jv(i.path)),r,"TargetPurposeLimboResolution",yc.ce))}}async function fo(s,e,i){const r=Tt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Bd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>X.forEach(_,(V=>X.forEach(V.Es,(H=>A.persistence.referenceDelegate.addReference(D,V.targetId,H))).next((()=>X.forEach(V.ds,(H=>A.persistence.referenceDelegate.removeReference(D,V.targetId,H)))))))))}catch(D){if(!Nr(D))throw D;at(qd,"Failed to update sequence numbers: "+D)}for(const D of _){const V=D.targetId;if(!D.fromCache){const H=A.Ms.get(V),$=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(V,et)}}})(r.localStore,h))}async function Vw(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){at(Zd,"User change. New user:",e.toKey());const r=await RE(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new st(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fo(i,r.Ls)}}function Mw(s,e){const i=Tt(s),r=i.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let o=Dt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function qE(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cw.bind(null,e),e.Pu.H_=mw.bind(null,e.eventManager),e.Pu.yu=gw.bind(null,e.eventManager),e}function Ow(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dw.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return xR(this.persistence,new VR,e.initialUser,this.serializer)}Cu(e){return new bE(kd.mi,this.serializer)}Du(e){return new BR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class xw extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Bt(this.persistence.referenceDelegate instanceof uc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new bE((r=>uc.mi(r,i)),this.serializer)}}class yd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vw.bind(null,this.syncEngine),await uw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hw})()}createDatastore(e){const i=Rc(e.databaseInfo.databaseId),r=(function(h){return new QR(h)})(e.databaseInfo);return(function(h,d,g,v){return new ZR(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,g){return new JR(r,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>O_(this.syncEngine,i,0)),(function(){return C_.v()?new C_:new qR})())}createSyncEngine(e,i){return(function(o,h,d,g,v,_,A){const D=new Ew(o,h,d,g,v,_);return A&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);at(_s,"RemoteStore shutting down."),r.Ea.add(5),await ho(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class Lw{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(Ca,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Ca,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Kd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kf(s,e){s.asyncQueue.verifyOperationInProgress(),at(Ca,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await RE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function U_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Pw(s);at(Ca,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>D_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>D_(e.remoteStore,o))),s._onlineComponents=e}async function Pw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Ca,"Using user provided OfflineComponentProvider");try{await Kf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ar("Error using user provided cache. Falling back to memory cache: "+i),await Kf(s,new hc)}}else at(Ca,"Using default OfflineComponentProvider"),await Kf(s,new xw(void 0));return s._offlineComponents}async function HE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Ca,"Using user provided OnlineComponentProvider"),await U_(s,s._uninitializedComponentsProvider._online)):(at(Ca,"Using default OnlineComponentProvider"),await U_(s,new yd))),s._onlineComponents}function zw(s){return HE(s).then((e=>e.syncEngine))}async function jw(s){const e=await HE(s),i=e.eventManager;return i.onListen=Tw.bind(null,e.syncEngine),i.onUnlisten=bw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Aw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Rw.bind(null,e.syncEngine),i}function kw(s,e,i={}){const r=new _a;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,v,_){const A=new Uw({next:V=>{A.Nu(),d.enqueueAndForget((()=>dw(h,D))),V.fromCache&&v.source==="server"?_.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),D=new pw(g,A,{includeMetadataChanges:!0,qa:!0});return fw(h,D)})(await jw(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firestore.googleapis.com",P_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mR)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qS;switch(r.type){case"firstParty":return new QS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=L_.get(i);r&&(at("ComponentProvider","Removing Datastore"),L_.delete(i),r.terminate())})(this),Promise.resolve()}}function Bw(s,e,i,r={}){s=tc(s,Ic);const o=Ed(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(X0(`https://${g}`),W0("Firestore",!0)),h.host!==FE&&h.host!==g&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:r};if(!Jl(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Qe.MOCK_USER;else{_=Z0(r.mockUserToken,s._app?.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(D)}s._authCredentials=new HS(new Ov(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class Me{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(lo(i,Me._jsonSchema))return new Me(e,r||null,new ct(Jt.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:_e("string",Me._jsonSchemaVersion),referencePath:_e("string")};class va extends Mr{constructor(e,i,r){super(e,i,Jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new ct(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function j_(s,e,...i){if(s=Ea(s),xv("collection","path",e),s instanceof Ic){const r=Jt.fromString(e,...i);return $y(r),new va(s,null,r)}{if(!(s instanceof Me||s instanceof va))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(e,...i));return $y(r),new va(s.firestore,null,r)}}function qw(s,e,...i){if(s=Ea(s),arguments.length===1&&(e=Dd.newId()),xv("doc","path",e),s instanceof Ic){const r=Jt.fromString(e,...i);return Zy(r),new Me(s,null,new ct(r))}{if(!(s instanceof Me||s instanceof va))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(e,...i));return Zy(r),new Me(s.firestore,s instanceof va?s.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CE(this,"async_queue_retry"),this._c=()=>{const r=Yf();r&&at(k_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _a;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nr(e))throw e;at(k_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",q_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Yd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function q_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Jd extends Ic{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new B_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function Hw(s,e){const i=typeof s=="object"?s:ev(),r=typeof s=="string"?s:nc,o=ro(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=Y0("firestore");h&&Bw(o,...h)}return o}function QE(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Gw(s),s._firestoreClient}function Gw(s){const e=s._freezeSettings(),i=(function(o,h,d,g){return new ub(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,GE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Lw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Be.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:_e("string",In._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(lo(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:_e("string",ai._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new si(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:_e("string",si._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=/^__.*__$/;class Qw{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,i,this.fieldTransforms):new uo(e,this.data,i,this.fieldTransforms)}}function KE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class tm{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KE(this.Ac)&&Fw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Yw{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Rc(e)}Cc(e,i,r,o=!1){return new tm({Ac:e,methodName:i,Dc:r,path:ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XE(s){const e=s._freezeSettings(),i=Rc(s._databaseId);return new Yw(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Kw(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);JE("Data must be an object, but it was:",d,r);const g=ZE(r,d);let v,_;if(h.merge)v=new Un(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const V=Zw(e,D,i);if(!d.contains(V))throw new st(K.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Jw(A,V)||A.push(V)}v=new Un(A),_=d.fieldTransforms.filter((D=>v.covers(D.field)))}else v=null,_=d.fieldTransforms;return new Qw(new Cn(g),v,_)}function Xw(s,e,i,r=!1){return em(i,s.Cc(r?4:3,e))}function em(s,e){if($E(s=Ea(s)))return JE("Unsupported field value:",e,s),ZE(s,e);if(s instanceof YE)return(function(r,o){if(!KE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const g of r){let v=em(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=Ea(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Wt.fromDate(r);return{timestampValue:oc(o.serializer,h)}}if(r instanceof Wt){const h=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(o.serializer,h)}}if(r instanceof ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof In)return{bytesValue:pE(o.serializer,r._byteString)};if(r instanceof Me){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:zd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof si)return(function(d,g){return{mapValue:{fields:{[Hv]:{stringValue:Gv},[ic]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ud(g.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${pc(r)}`)})(s,e)}function ZE(s,e){const i={};return Pv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(s,((r,o)=>{const h=em(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function $E(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Wt||s instanceof ai||s instanceof In||s instanceof Me||s instanceof YE||s instanceof si)}function JE(s,e,i){if(!$E(i)||!Uv(i)){const r=pc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Zw(s,e,i){if((e=Ea(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return WE(s,e);throw fc("Field path arguments must be of type string or ",s,!1,void 0,i)}const $w=new RegExp("[~\\*/\\[\\]]");function WE(s,e,i){if(e.search($w)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Wd(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new st(K.INVALID_ARGUMENT,g+s+v)}function Jw(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ww(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(nm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ww extends tT{data(){return super.data()}}function nm(s,e){return typeof e=="string"?WE(s,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class im{}class e2 extends im{}function n2(s,e,...i){let r=[];e instanceof im&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof am)).length,g=h.filter((v=>v instanceof Dc)).length;if(d>1||d>0&&g>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Dc extends e2{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Dc(e,i,r)}_apply(e){const i=this._parse(e);return eT(e._query,i),new Mr(e.firestore,e.converter,ld(e._query,i))}_parse(e){const i=XE(e.firestore);return(function(h,d,g,v,_,A,D){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){G_(D,A);const $=[];for(const et of D)$.push(H_(v,h,et));V={arrayValue:{values:$}}}else V=H_(v,h,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||G_(D,A),V=Xw(g,d,D,A==="in"||A==="not-in");return ye.create(_,A,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function i2(s,e,i){const r=e,o=nm("where",s);return Dc._create(o,r,i)}class am extends im{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new am(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)eT(d,v),d=ld(d,v)})(e._query,i),new Mr(e.firestore,e.converter,ld(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function H_(s,e,i){if(typeof(i=Ea(i))=="string"){if(i==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wv(e)&&i.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Jt.fromString(i));if(!ct.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s_(s,new ct(r))}if(i instanceof Me)return s_(s,i._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pc(i)}.`)}function G_(s,e){if(!Array.isArray(s)||s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eT(s,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class a2{convertValue(e,i="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return vs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[ic].arrayValue?.values?.map((r=>he(r.doubleValue)));return new si(i)}convertGeoPoint(e){return new ai(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=vc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const i=Sa(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Jt.fromString(e);Bt(AE(r),9688,{name:e});const o=new no(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Hu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Er extends tT{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Er._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Er._jsonSchemaVersion="firestore/documentSnapshot/1.0",Er._jsonSchema={type:_e("string",Er._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Xu extends Er{data(e={}){return super.data(e)}}class Tr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Hu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Xu(this._firestore,this._userDataWriter,r.key,r,new Hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Xu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Xu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:r2(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Tr._jsonSchemaVersion="firestore/querySnapshot/1.0",Tr._jsonSchema={type:_e("string",Tr._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class l2 extends a2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function o2(s){s=tc(s,Mr);const e=tc(s.firestore,Jd),i=QE(e),r=new l2(e);return t2(s._query),kw(i,s._query).then((o=>new Tr(e,r,s,o)))}function u2(s,e){const i=tc(s.firestore,Jd),r=qw(s),o=s2(s.converter,e);return c2(i,[Kw(XE(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Oi.exists(!1))]).then((()=>r))}function c2(s,e){return(function(r,o){const h=new _a;return r.asyncQueue.enqueueAndForget((async()=>ww(await zw(r),o,h))),h.promise})(QE(s),e)}(function(e,i=!0){(function(o){Ir=o})(cA),Ta(new xi("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Jd(new GS(r.getProvider("auth-internal")),new YS(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ei(Qy,Yy,e),ei(Qy,Yy,"esm2020")})();const h2={apiKey:"AIzaSyAgF0T9likRBmNMNjkLuCR2prMUtirpxF4",authDomain:"munch-6303f.firebaseapp.com",projectId:"munch-6303f",storageBucket:"munch-6303f.firebasestorage.app",messagingSenderId:"665224414010",appId:"1:665224414010:web:707a2c598cffdfec238603",measurementId:"G-E1FED4ZF44"},nT=tv(h2);zS(nT);const F_=Hw(nT);function f2(){const[s,e]=da.useState(""),[i,r]=da.useState(""),[o,h]=da.useState(!1),[d,g]=da.useState(""),[v,_]=da.useState(0),A=da.useRef(null),D=async H=>{if(H.preventDefault(),!s.trim()||!i.trim()){g("Please fill in all fields");return}h(!0),g("");try{const $=n2(j_(F_,"users"),i2("email","==",i.trim()));if(!(await o2($)).empty){g("This email is already on the waitlist!"),h(!1);return}await u2(j_(F_,"users"),{name:s.trim(),email:i.trim(),timestamp:new Date}),g("Successfully joined the waitlist!"),e(""),r("")}catch($){console.error("Error adding document: ",$),g("Something went wrong. Please try again.")}finally{h(!1)}};da.useEffect(()=>{const H=()=>{const et=A.current;if(!et)return;const J=et.scrollLeft,Et=et.scrollWidth,mt=et.clientWidth,ot=et.children;if(J<=10){_(0);return}if(J>=Et-mt-10){_(ot.length-1);return}const Lt=et.getBoundingClientRect(),_t=Lt.left+Lt.width/2;let Ut=0,M=1/0;for(let S=0;S<ot.length;S++){const N=ot[S].getBoundingClientRect(),O=N.left+N.width/2,U=Math.abs(O-_t);U<M&&(M=U,Ut=S)}_(Ut)},$=A.current;return $&&($.addEventListener("scroll",H),H()),()=>{$&&$.removeEventListener("scroll",H)}},[]);const V=H=>{const $=A.current;if(!$)return;const et=$.children[H];if(et){const J=$.getBoundingClientRect(),Et=et.getBoundingClientRect(),mt=$.scrollLeft+Et.left-J.left-(J.width-Et.width)/2;$.scrollTo({left:mt,behavior:"smooth"})}};return j.jsxs(j.Fragment,{children:[j.jsxs("nav",{className:"navbar",children:[j.jsx("div",{className:"nav-left",children:j.jsx("span",{className:"nav-logo",style:{color:"#243924ff"},children:"MUNCH"})}),j.jsx("div",{className:"nav-right",children:j.jsx("a",{href:"#waitlist",children:j.jsx("span",{className:"nav-item",style:{color:"#243924ff"},children:"Join Waitlist"})})})]}),j.jsxs("div",{className:"main-content",children:[j.jsxs("div",{className:"background-container",children:[j.jsx("img",{src:"images/maincontentfood.webp",alt:"Main Content Food",className:"main-content-food-image"}),d&&j.jsx("p",{className:"message",children:d}),j.jsxs("div",{id:"waitlist",className:"waitlist-container",children:[j.jsxs("div",{className:"titletext",children:[j.jsx("h1",{className:"title1",children:"JOIN THE"}),j.jsxs("h1",{className:"title2",children:[j.jsx("span",{style:{color:"#3e974bff"},children:"MUNCH"}),"MENT"]})]}),j.jsx("div",{className:"waitlist-box",children:j.jsxs("form",{onSubmit:D,children:[j.jsx("input",{type:"text",placeholder:"name",value:s,onChange:H=>e(H.target.value),disabled:o}),j.jsx("input",{type:"email",placeholder:"email",value:i,onChange:H=>r(H.target.value),disabled:o}),j.jsx("button",{type:"submit",disabled:o,children:o?"Joining...":"Join Waitlist"})]})})]})]}),j.jsxs("div",{className:"endorsement-section",children:[j.jsx("h2",{className:"endorsement-header",children:"Loved by students at top schools"}),j.jsx("div",{className:"university-logos-container",children:j.jsxs("div",{className:"university-logos-row",children:[j.jsx("img",{src:"logos/carletonlogo.webp",alt:"Carleton University",className:"university-logo"}),j.jsx("img",{src:"logos/uoftlogo.webp",alt:"University of Toronto",className:"university-logo"}),j.jsx("img",{src:"logos/waterloologo.webp",alt:"University of Waterloo",className:"university-logo"}),j.jsx("img",{src:"logos/westernlogo.webp",alt:"Western University",className:"university-logo"}),j.jsx("img",{src:"logos/mcmasterlogo.webp",alt:"McMaster University",className:"university-logo"}),j.jsx("img",{src:"logos/queenslogo.webp",alt:"Queen's University",className:"university-logo"}),j.jsx("img",{src:"logos/carletonlogo.webp",alt:"Carleton University",className:"university-logo"}),j.jsx("img",{src:"logos/uoftlogo.webp",alt:"University of Toronto",className:"university-logo"}),j.jsx("img",{src:"logos/waterloologo.webp",alt:"University of Waterloo",className:"university-logo"}),j.jsx("img",{src:"logos/westernlogo.webp",alt:"Western University",className:"university-logo"}),j.jsx("img",{src:"logos/mcmasterlogo.webp",alt:"McMaster University",className:"university-logo"}),j.jsx("img",{src:"logos/queenslogo.webp",alt:"Queen's University",className:"university-logo"}),j.jsx("img",{src:"logos/carletonlogo.webp",alt:"Carleton University",className:"university-logo"}),j.jsx("img",{src:"logos/uoftlogo.webp",alt:"University of Toronto",className:"university-logo"}),j.jsx("img",{src:"logos/waterloologo.webp",alt:"University of Waterloo",className:"university-logo"}),j.jsx("img",{src:"logos/westernlogo.webp",alt:"Western University",className:"university-logo"}),j.jsx("img",{src:"logos/mcmasterlogo.webp",alt:"McMaster University",className:"university-logo"}),j.jsx("img",{src:"logos/queenslogo.webp",alt:"Queen's University",className:"university-logo"})]})})]}),j.jsxs("div",{className:"scrolling-section",children:[j.jsxs("div",{className:"scrolling-text",children:[j.jsx("h2",{className:"scrolling-title",children:"Join a Community of Foodies"}),j.jsx("p",{className:"scrolling-description",children:"Connect, share, and discover recipes with fellow food enthusiasts. Munch brings food lovers together in one deliciously vibrant community."})]}),j.jsx("div",{className:"scrolling-rows",children:j.jsxs("div",{className:"scroll-row scroll-row-1",children:[j.jsx("div",{className:"scroll-box1"}),j.jsx("div",{className:"scroll-box2"}),j.jsx("div",{className:"scroll-box3"}),j.jsx("div",{className:"scroll-box4"}),j.jsx("div",{className:"scroll-box5"}),j.jsx("div",{className:"scroll-box6"}),j.jsx("div",{className:"scroll-box box-color-1"}),j.jsx("div",{className:"scroll-box box-color-2"}),j.jsx("div",{className:"scroll-box box-color-3"}),j.jsx("div",{className:"scroll-box box-color-4"}),j.jsx("div",{className:"scroll-box box-color-5"}),j.jsx("div",{className:"scroll-box box-color-6"})]})})]})]}),j.jsx("div",{className:"big-feature",children:j.jsxs("div",{className:"big-feature-content",children:[j.jsx("h2",{children:"CAMERA"}),j.jsx("h1",{children:"Just a snap away from delicious recipes"}),j.jsx("p",{children:"Take a photo of your ingredients and let Munch do the rest. Discover recipes tailored to what you have on hand, making meal prep effortless and fun."}),j.jsxs("div",{className:"big-feature-badges",children:[j.jsxs("div",{className:"big-feature-badges-row",children:[j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"AI-Powered"]}),j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"Smart Ingredient Recognition"]})]}),j.jsxs("div",{className:"big-feature-badges-row",children:[j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"Zero-Waste Cooking"]}),j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"Personalized Recipes"]})]})]}),j.jsx("img",{src:"mockups/cameramockup2.webp",alt:"Camera Mockup",className:"big-feature-mockup"})]})}),j.jsx("div",{className:"big-feature",children:j.jsxs("div",{className:"big-feature-content",children:[j.jsxs("div",{children:[j.jsx("h2",{children:"PERSONALIZED FEED"}),j.jsx("h1",{children:"Always one scroll away from your next meal"}),j.jsx("p",{children:"View what your friends are cooking and get real time inspiration! Share your food pics and discover new recipes together."}),j.jsxs("div",{className:"big-feature-badges",children:[j.jsxs("div",{className:"big-feature-badges-row",children:[j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"Cook up Inspiration"]}),j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"Find your Recipes"]})]}),j.jsxs("div",{className:"big-feature-badges-row",children:[j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"Meet your Community"]}),j.jsxs("span",{className:"big-feature-badge",children:[j.jsx("span",{className:"badge-icon",children:""}),"Share your Recipes"]})]})]})]}),j.jsx("img",{src:"mockups/homemockup2.webp",alt:"Camera Mockup",className:"big-feature-mockup"})]})}),j.jsxs("div",{id:"features",className:"features-carousel",children:[j.jsx("h3",{className:"features-subtitle",children:"More Features"}),j.jsx("h1",{className:"feature-title",children:"Designed just for You"}),j.jsxs("div",{className:"features-track",ref:A,children:[j.jsx("div",{className:"feature1",children:j.jsxs("div",{className:"showcase-container",children:[j.jsx("img",{src:"mockups/profile.webp",alt:"App mockup",className:"mockup-image"}),j.jsx("div",{className:"showcase-content",children:j.jsx("h2",{children:"Connect with Foodies"})})]})}),j.jsx("div",{className:"feature2",children:j.jsxs("div",{className:"showcase-container",children:[j.jsx("img",{src:"mockups/home.webp",alt:"App mockup",className:"mockup-image"}),j.jsx("div",{className:"showcase-content",children:j.jsx("h2",{children:"Scroll through your Feed"})})]})}),j.jsx("div",{className:"feature3",children:j.jsxs("div",{className:"showcase-container",children:[j.jsx("div",{className:"showcase-content",children:j.jsx("h2",{children:"Share your Recipes"})}),j.jsx("img",{src:"mockups/post.webp",alt:"App mockup",className:"mockup-image"})]})}),j.jsx("div",{className:"feature4",children:j.jsxs("div",{className:"showcase-container",children:[j.jsx("img",{src:"mockups/recipe.webp",alt:"App mockup",className:"mockup-image"}),j.jsx("div",{className:"showcase-content",children:j.jsx("h2",{children:"Recipes Based off your Pantry"})})]})}),j.jsx("div",{className:"feature5",children:j.jsxs("div",{className:"showcase-container",children:[j.jsx("img",{src:"mockups/saved.webp",alt:"App mockup",className:"mockup-image"}),j.jsx("div",{className:"showcase-content",children:j.jsx("h2",{children:"Save your Recipes"})})]})}),j.jsx("div",{className:"feature6",children:j.jsxs("div",{className:"showcase-container",children:[j.jsx("img",{src:"mockups/meal prep.webp",alt:"App mockup",className:"mockup-image"}),j.jsx("div",{className:"showcase-content",children:j.jsx("h2",{children:"Meal Prep"})})]})}),j.jsx("div",{className:"feature7",children:j.jsxs("div",{className:"showcase-container",children:[j.jsx("img",{src:"mockups/grocery.webp",alt:"App mockup",className:"mockup-image"}),j.jsx("div",{className:"showcase-content",children:j.jsx("h2",{children:"Plan your Groceries"})})]})})]}),j.jsx("div",{className:"carousel-indicators",children:[0,1,2,3,4,5,6].map(H=>j.jsx("span",{className:`carousel-dot ${v===H?"active":""}`,onClick:()=>V(H)},H))})]}),j.jsxs("footer",{className:"footer",children:[j.jsxs("div",{className:"footer-content",children:[j.jsxs("div",{className:"footer-section",children:[j.jsx("h3",{children:"Munch"}),j.jsx("p",{children:"The ultimate food companion."})]}),j.jsx("div",{className:"footer-section"}),j.jsxs("div",{className:"footer-section",children:[j.jsx("h4",{children:"Quick Links"}),j.jsxs("ul",{children:[j.jsx("li",{children:j.jsx("a",{href:"#waitlist",children:"Join Waitlist"})}),j.jsx("li",{children:j.jsx("a",{href:"#features",children:"Features"})})]})]})]}),j.jsx("div",{className:"footer-image",children:j.jsx("img",{src:"images/footertext2.png",alt:"Footer Design"})})]})]})}L0.createRoot(document.getElementById("root")).render(j.jsx(da.StrictMode,{children:j.jsx(f2,{})}));
